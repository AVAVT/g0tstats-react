{"version":3,"sources":["Shared/utils.js","WebApp/Header/Header.jsx","WebApp/Welcome.jsx","Shared/constants.js","Redux/Charts/chartActions.js","Redux/promiseUtils.js","Redux/Games/gameActions.js","Redux/Player/playerActions.js","WebApp/SideBar/SearchBox.jsx","WebApp/SideBar/QuickLinks.jsx","Shared/Components/LoadingIcon/LoadingIcon.jsx","WebApp/SideBar/SideBar.jsx","WebApp/LoadingUser/LoadingUser.js","WebApp/Charts/WinLoseChart.js","WebApp/Charts/ResultDistributionChart.js","WebApp/Charts/BoardSizesChart.js","WebApp/Charts/TimeSettingsChart.js","Shared/Components/ExtLink.jsx","Shared/Components/PlayerLink.jsx","Shared/Components/GameLink.jsx","WebApp/Charts/OpponentChart.js","WebApp/Charts/MiscChart.js","WebApp/GameFilters/ChartFilter.jsx","WebApp/Charts/GameHistoryChart.jsx","WebApp/Charts/ChartList.js","WebApp/Footer/Footer.jsx","WebApp/Statistics.jsx","App.jsx","serviceWorker.js","Redux/Player/playerReducer.js","Redux/Games/gameReducer.js","Redux/Charts/chartDataReducer.js","OGSApi/OGSApi.js","Redux/APIReducer.js","Redux/reducers.js","index.js","Redux/store.js"],"names":["rankNumberToKyuDan","rank","getPlayerRank","player","rating","ratings","overall","Math","floor","log","err","ranking","getPlayerRating","getPlayerRankDisplay","ratingToKyuDan","isPlayerWin","game","playerId","players","black","id","white_lost","white","black_lost","extractPlayerAndOpponent","opponent","extractHistoricalPlayerAndOpponent","historicalPlayer","historical_ratings","historicalOpponent","daysDifferenceBetween","day1","day2","two","Date","getFullYear","getMonth","getDate","one","days","getTime","ceil","Header","pageTitle","this","props","username","concat","title","react_default","a","createElement","className","Helmet","href","process","src","alt","Component","connect","_ref","Welcome","minDate","maxDate","rankedValues","Ranked","Unranked","values","tournamentValues","Tournament","NonTournament","boardSizeValues","Nineteens","Thirteens","Nines","Others","timeSettingsValues","Blitz","Live","Correspondence","colorValues","Black","White","handicapValues","Even","Taker","Giver","applyGameFilters","filters","dispatch","getState","dateOfLastGame","games","end","_getState$chartsData","chartsData","startDate","endDate","ranked","tournament","boardSize","timeSettings","handicap","color","limitEndDate","latestLimitEndDate","hasOwnProperty","latestEndDate","newEndDate","filterFunctionParams","Object","objectSpread2","filterFunction","composeFilterFunction","updateChartDataSource","results","filter","index","date","ended","gameSatisfyRankedRule","gameSatisfyTournamentRule","gameSatisfyBoardSizeRule","gameSatisfyTimeSettingsRule","gameSatisfyHandicapRule","gameSatisfyColorRule","includes","isTournamentGame","gameSize","width","height","getGameBoardSize","gameTimeSettings","time_per_move","getGameTimeSettings","gameHandicapState","getGameHandicapState","newData","type","payload","REQUEST","SUCCESS","FAILURE","PROGRESS","fetchGames","cachedGames","arguments","length","undefined","asyncToGenerator","regenerator_default","mark","_callee","reduxState","fetchingPromise","latestId","OGSApi","fetchingPage","data","fetchingTotalPage","shouldContinueFetching","promise","_iterator","_step","wrap","_context","prev","next","fetching","cancel","fetchGamePage","fetchGamesStart","fetchGamesProgress","sent","canceled","createForOfIteratorHelper","s","n","done","value","push","toConsumableArray","abrupt","t0","e","f","finish","count","fetchGamesSuccess","dispatchStateFrom","t1","console","error","fetchGamesFailure","stop","_x","_x2","apply","setHours","start","_ref2","fetchPlayer","userIdPromise","userId","userDataPromise","userData","fetchUserId","fetchPlayerStart","fetchUserDataById","fetchPlayerSuccess","parseInt","registrationDate","registration_date","fetchPlayerFailure","exporterVersion","SearchBox","state","updateSearchUser","event","_this","setState","target","submit","preventDefault","history","getPlayerData","document","activeElement","blur","downloadJSON","_this$props$player","_this$props$games","jsonString","JSON","stringify","blob","Blob","saveAs","window","alert","readFile","file","files","reader","FileReader","onload","evt","readImportedJSON","result","readAsText","parse","importPlayerData","onSubmit","onChange","name","placeholder","style","display","onClick","getElementById","click","withRouter","importPlayer","links","QuickLinks","onLinkClicked","link","scrollToElem","renderLink","linkData","key","scrollspy_default","items","map","currentClassName","LoadingIcon","circumference","PI","outerRadius","viewBox","transform","version","xmlns","xmlnsXlink","shapeRendering","r","cx","radius","cy","fill","strokeWidth","stroke","strokeDasharray","SideBar","_this$props","errorMessage","currentPage","totalPages","showQuickLinks","cancelQuery","quickLinks","SideBar_QuickLinks","searchBoxOrLoadProgress","Fragment","SideBar_SearchBox","Components_LoadingIcon_LoadingIcon","marginRight","flex","rel","mapDispatchToProps","fetchError","LoadingUser","isFetchingPlayer","WinLoseChart","mainChartOptions","backgroundColor","chartArea","top","colors","pieSliceTextStyle","legend","position","textStyle","fontName","fontSize","animation","startup","easing","duration","subChartOptions","maxLines","computeWinLoseStatistics","blackGames","whiteGames","blackLosses","whiteLosses","statistics","chartData1","chartData2","chartData3","chartData4","index_esm","chartType","options","footer","ResultDistributionChart","pieChartOptions","left","right","columnChartOptions","isStacked","hAxis","vAxis","assignGameResultToDistributions","distributions","isWin","outcome","isNaN","split","points","parseFloat","pointDiff","computeWinLoseDistributions","Opp+Other","Opp+Count","Opp+Time","Opp+Res","Opp+40+","Opp+30+","Opp+20+","Opp+10+","Opp+0+","Plr+0+","Plr+10+","Plr+20+","Plr+30+","Plr+40+","Plr+Res","Plr+Time","Plr+Count","Plr+Other","reduce","_this$generateChartDa","generateChartData","BoardSizesChart","alignment","computeBoardSizes","nineteenGames","thirteenGames","nineGames","otherGames","nineteenLosses","thirteenLosses","nineLosses","otherLosses","forEach","_this$computeBoardSiz","chartData5","TimeSettingsChart","computeTimeSettings","blitzGames","liveGames","correspondenceGames","blitzLosses","liveLosses","correspondenceLosses","times","ExtLink","children","PlayerLink","OGS_ROOT","img","OGS_API_ROOT","Components_ExtLink","GameLink","related","detail","moment","format","OpponentChart","computeOpponentsInfo","opponents","numberOfOpponents","weakestOpp","strongestOpp","mostPlayed","strongestDefeated","ratingDiff","_extractHistoricalPla","opponentRank","k","averageGamePerOpponent","toFixed","opponentsInfo","weakestBarRate","max","strongestBarRate","min","userBarRate","weakestDisp","configs","userDisp","strongestDisp","mostPlayedDisp","strongestDefeatedDisp","data-toggle","data-placement","Components_PlayerLink","Components_GameLink","MiscChart","computeMiscInfo","analyzingGames","mostActiveDay","currentDay","totalLosses","longestStreak","streak","currentStreak","gamesOnMostActiveDay","gamesOnCurrentDay","biggestWin","diff","scoreDiff","gameDay","memberSince","firstGameDate","started","gamesPerDay","dateOfFirstGame","daysSinceStart","uniqueTournaments","indexOf","_this$computeMiscInfo","streakDurationDisplay","biggestWinDisplay","round","ChartFilter","expanded","onCheckboxChanged","Array","from","querySelectorAll","input","checked","onFilterChanged","defineProperty","onToggleChanged","onDateChanged","dates","changes","filterGames","renderCheckBoxItems","validValues","renderCheckbox","defaultChecked","htmlFor","_this2","_this$props2","Button","Collapse","isOpen","build_default","dateFormat","enableTime","enableSeconds","PureComponent","GameHistoryChart","scatterPlotChartOptions","series","pointShape","rotation","gridlines","tooltip","isHtml","trigger","computeGameHistory","insertCurrentRank","historicalWinloss","playerRating","isBlack","opponentRating","gameId","renderChartTooltip","chartData","label","role","p","html","item","ChartList","filteredGamesData","allGamesData","GameFilters_ChartFilter","Charts_GameHistoryChart","Charts_WinLoseChart","Charts_ResultDistributionChart","Charts_BoardSizesChart","Charts_TimeSettingsChart","Charts_OpponentChart","Charts_MiscChart","Footer","Statistics","scrollIntoView","user","WebApp_Header_Header","WebApp_SideBar_SideBar","showStatistics","Charts_ChartList","showLoading","WebApp_LoadingUser_LoadingUser","WebApp_Welcome","WebApp_Footer_Footer","App","reduxStore","es","store","react_router_dom","react_router","path","component","match","WebApp_Statistics","params","exact","Boolean","location","hostname","initialState","reducer","CancelablePromise","resolve","reject","axios","get","then","res","catch","status","url","combineReducers","APIReducer","playerReducer","gamesReducer","chartReducers","createStore","reducers","composeWithReduxDevTools","applyMiddleware","reduxThunk","ReactDOM","render","src_App","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.4f82ee35.chunk.js","sourcesContent":["const rankNumberToKyuDan = (rank) => {\r\n  if (rank < 30)\r\n    return (30 - rank) + \"k\";\r\n  else\r\n    return (rank - 29) + \"d\";\r\n}\r\n\r\nexport const getPlayerRank = (player) => {\r\n  try {\r\n    const rating = player.ratings.overall.rating\r\n    var rank = Math.floor(\r\n      Math.log(rating / 850.0) / 0.032\r\n    );\r\n    return rank;\r\n  }\r\n  catch (err) {\r\n    return player.ranking;\r\n  }\r\n}\r\n\r\nexport const getPlayerUnroundedRank = (player) => {\r\n  try {\r\n    const rating = player.ratings.overall.rating\r\n    var rank = Math.log(rating / 850.0) / 0.032;\r\n    return rank;\r\n  }\r\n  catch (err) {\r\n    return player.ranking;\r\n  }\r\n}\r\n\r\nexport const getPlayerRating = (player) => player.ratings.overall.rating;\r\n\r\nexport const getPlayerRankDisplay = (player) => {\r\n  return rankNumberToKyuDan(getPlayerRank(player));\r\n}\r\n\r\nexport const ratingToKyuDan = (rating) => {\r\n  var rank = Math.floor(\r\n    Math.log(rating / 850.0) / 0.032\r\n  );\r\n  return rankNumberToKyuDan(rank);\r\n}\r\n\r\nexport const getGameBoardSize = (game) => {\r\n  if (game.width === 19 && game.height === 19) return \"19x19\";\r\n  else if (game.width === 13 && game.height === 13) return \"13x13\";\r\n  else if (game.width === 9 && game.height === 9) return \"9x9\";\r\n  else return \"Others\";\r\n}\r\n\r\nexport const getGameTimeSettings = (game) => {\r\n  if (game.time_per_move < 20) return \"Blitz\";\r\n  else if (game.time_per_move > 10800) return \"Correspondence\";\r\n  else return \"Live\"\r\n}\r\n\r\nexport const getGameHandicapState = (game, playerId) => {\r\n  if (game.handicap === 0) return \"Even game\";\r\n  else if (game.players.black.id === playerId) return \"Handicap taker\";\r\n  else return \"Handicap giver\";\r\n}\r\n\r\nexport const isPlayerWin = (game, playerId) => {\r\n  return ((game.players.black.id === playerId && game.white_lost)\r\n    || (game.players.white.id === playerId && game.black_lost))\r\n}\r\n\r\nexport const extractPlayerAndOpponent = (game, playerId) => {\r\n  return game.players.black.id === playerId\r\n    ? {\r\n      player: game.players.black,\r\n      opponent: game.players.white\r\n    } : {\r\n      player: game.players.white,\r\n      opponent: game.players.black\r\n    }\r\n}\r\n\r\nexport const extractHistoricalPlayerAndOpponent = (game, playerId) => {\r\n  return game.players.black.id === playerId\r\n    ? {\r\n      historicalPlayer: game.historical_ratings.black,\r\n      historicalOpponent: game.historical_ratings.white\r\n    } : {\r\n      historicalPlayer: game.historical_ratings.white,\r\n      historicalOpponent: game.historical_ratings.black\r\n    }\r\n}\r\n\r\nexport const daysDifferenceBetween = (day1, day2) => {\r\n  /* Copa pasta I don't even know if there's any bug here */\r\n\r\n  // Copy date parts of the timestamps, discarding the time parts.\r\n  var two = new Date(day1.getFullYear(), day1.getMonth(), day1.getDate());\r\n  var one = new Date(day2.getFullYear(), day2.getMonth(), day2.getDate());\r\n\r\n  // Do the math.\r\n  var millisecondsPerDay = 1000 * 60 * 60 * 24;\r\n  var millisBetween = two.getTime() - one.getTime();\r\n  var days = millisBetween / millisecondsPerDay;\r\n\r\n  // Round down.\r\n  return two > one ? Math.floor(days) : Math.ceil(days);\r\n}\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Helmet } from \"react-helmet\";\r\nimport { getPlayerRankDisplay } from \"../../Shared/utils\";\r\n\r\n\r\nclass Header extends Component {\r\n  static propTypes = {\r\n    player: PropTypes.shape({\r\n      username: PropTypes.string,\r\n      rank: PropTypes.number\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const pageTitle = this.props.player.username ? `statistics for player ${this.props.player.username} (${getPlayerRankDisplay(this.props.player)})` : \"statistics\";\r\n    const title = `${this.props.player.username && `${this.props.player.username} statistics | `}Got Stats?`\r\n    return (\r\n      <nav className=\"navbar navbar-dark Header justify-content-start\">\r\n        <Helmet>\r\n          <title>{title}</title>\r\n        </Helmet>\r\n        <a href={`${process.env.PUBLIC_URL}/`} className=\"navbar-brand\">\r\n          <img className=\"OGS_logo d-inline-block align-top\" src=\"https://cdn.online-go.com/assets/ogs_dark.svg\" alt=\"OGS logo\" />\r\n        </a>\r\n        <h1 className=\"page_title\">{pageTitle}</h1>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapReduxStateToProps = ({ player }) => ({ player })\r\n\r\nexport default connect(mapReduxStateToProps)(Header);\r\n","import React from \"react\";\r\n\r\nconst Welcome = () => (\r\n  <div>\r\n    <h2>Welcome!</h2>\r\n    <p className=\"instruction\">\r\n      Start by entering username into the search field to the right\r\n      (case-sensitive).\r\n    </p>\r\n    <p>\r\n      You can also use userID: my profile page is{\" \"}\r\n      <em>https://online-go.com/user/view/197819</em>, meaning my user ID is\r\n      197819.\r\n    </p>\r\n    <hr />\r\n    <p>\r\n      If you play a lot of games, be sure to Export after querying finished.\r\n    </p>\r\n    <p>\r\n      It will save your games data into 1 file, which you can import later to\r\n      save time.\r\n    </p>\r\n  </div>\r\n);\r\n\r\nexport default Welcome;\r\n","export const minDate = new Date(\"Jan 1 2008\");\r\nexport const maxDate = new Date();\r\n","import {\r\n  getGameBoardSize,\r\n  getGameTimeSettings,\r\n  getGameHandicapState,\r\n} from \"../../Shared/utils\";\r\n\r\nimport { maxDate } from \"../../Shared/constants\";\r\n\r\nexport const UPDATE_CHART_DATA_SOURCE = \"UPDATE_CHART_DATA_SOURCE\";\r\n\r\nexport const rankedValues = {\r\n  Ranked: \"Ranked\",\r\n  Unranked: \"Unranked\",\r\n  values: [\"Ranked\", \"Unranked\"],\r\n};\r\nexport const tournamentValues = {\r\n  Tournament: \"Tournament\",\r\n  NonTournament: \"Non-tournament\",\r\n  values: [\"Tournament\", \"Non-tournament\"],\r\n};\r\nexport const boardSizeValues = {\r\n  Nineteens: \"19x19\",\r\n  Thirteens: \"13x13\",\r\n  Nines: \"9x9\",\r\n  Others: \"Others\",\r\n  values: [\"19x19\", \"13x13\", \"9x9\", \"Others\"],\r\n};\r\nexport const timeSettingsValues = {\r\n  Blitz: \"Blitz\",\r\n  Live: \"Live\",\r\n  Correspondence: \"Correspondence\",\r\n  values: [\"Blitz\", \"Live\", \"Correspondence\"],\r\n};\r\nexport const colorValues = {\r\n  Black: \"Play as Black\",\r\n  White: \"Play as White\",\r\n  values: [\"Play as Black\", \"Play as White\"],\r\n};\r\nexport const handicapValues = {\r\n  Even: \"Even game\",\r\n  Taker: \"Handicap taker\",\r\n  Giver: \"Handicap giver\",\r\n  values: [\"Even game\", \"Handicap taker\", \"Handicap giver\"],\r\n};\r\n\r\nexport const applyGameFilters = (filters) => (dispatch, getState) => {\r\n  const playerId = getState().player.id;\r\n  const dateOfLastGame = getState().games.end;\r\n\r\n  const {\r\n    startDate,\r\n    endDate,\r\n    ranked,\r\n    tournament,\r\n    boardSize,\r\n    timeSettings,\r\n    handicap,\r\n    color,\r\n    limitEndDate,\r\n  } = getState().chartsData;\r\n\r\n  const latestLimitEndDate =\r\n    filters && filters.hasOwnProperty(\"limitEndDate\")\r\n      ? filters.limitEndDate\r\n      : limitEndDate;\r\n  const latestEndDate =\r\n    filters && filters.hasOwnProperty(\"endDate\") ? filters.endDate : endDate;\r\n\r\n  const newEndDate = latestLimitEndDate\r\n    ? latestEndDate < dateOfLastGame\r\n      ? latestEndDate\r\n      : dateOfLastGame\r\n    : maxDate;\r\n\r\n  const filterFunctionParams = {\r\n    startDate,\r\n    ranked,\r\n    tournament,\r\n    boardSize,\r\n    timeSettings,\r\n    handicap,\r\n    color,\r\n    playerId,\r\n    limitEndDate,\r\n    ...filters,\r\n    endDate: newEndDate,\r\n  };\r\n\r\n  const filterFunction = composeFilterFunction(filterFunctionParams);\r\n\r\n  dispatch(\r\n    updateChartDataSource({\r\n      ...filterFunctionParams,\r\n      results: getState().games.results.filter(filterFunction),\r\n    })\r\n  );\r\n};\r\n\r\nconst composeFilterFunction = ({\r\n  startDate,\r\n  endDate,\r\n  ranked,\r\n  tournament,\r\n  boardSize,\r\n  timeSettings,\r\n  handicap,\r\n  color,\r\n  playerId,\r\n}) => (game, index) => {\r\n  const date = new Date(game.ended);\r\n  if (date < startDate || date > endDate) return false;\r\n\r\n  return (\r\n    gameSatisfyRankedRule(game, ranked) &&\r\n    gameSatisfyTournamentRule(game, tournament) &&\r\n    gameSatisfyBoardSizeRule(game, boardSize) &&\r\n    gameSatisfyTimeSettingsRule(game, timeSettings) &&\r\n    gameSatisfyHandicapRule(game, handicap, playerId) &&\r\n    gameSatisfyColorRule(game, color, playerId)\r\n  );\r\n};\r\n\r\nconst gameSatisfyRankedRule = (game, ranked) => {\r\n  if (game.ranked && !ranked.includes(rankedValues.Ranked)) return false;\r\n  if (!game.ranked && !ranked.includes(rankedValues.Unranked)) return false;\r\n  return true;\r\n};\r\n\r\nconst gameSatisfyTournamentRule = (game, tournament) => {\r\n  const isTournamentGame = game.tournament !== null;\r\n  if (isTournamentGame && !tournament.includes(tournamentValues.Tournament))\r\n    return false;\r\n  if (!isTournamentGame && !tournament.includes(tournamentValues.NonTournament))\r\n    return false;\r\n  return true;\r\n};\r\n\r\nconst gameSatisfyBoardSizeRule = (game, boardSize) => {\r\n  const gameSize = getGameBoardSize(game);\r\n  return boardSize.includes(gameSize);\r\n};\r\n\r\nconst gameSatisfyTimeSettingsRule = (game, timeSettings) => {\r\n  const gameTimeSettings = getGameTimeSettings(game);\r\n  return timeSettings.includes(gameTimeSettings);\r\n};\r\n\r\nconst gameSatisfyHandicapRule = (game, handicap, playerId) => {\r\n  const gameHandicapState = getGameHandicapState(game, playerId);\r\n  return handicap.includes(gameHandicapState);\r\n};\r\n\r\nconst gameSatisfyColorRule = (game, color, playerId) => {\r\n  if (game.players.black.id === playerId && !color.includes(colorValues.Black))\r\n    return false;\r\n  if (game.players.white.id === playerId && !color.includes(colorValues.White))\r\n    return false;\r\n  return true;\r\n};\r\n\r\nconst updateChartDataSource = (newData) => ({\r\n  type: UPDATE_CHART_DATA_SOURCE,\r\n  payload: newData,\r\n});\r\n","export const REQUEST = type => `${type}_PENDING`;\r\nexport const SUCCESS = type => `${type}_FULFILLED`;\r\nexport const FAILURE = type => `${type}_REJECTED`;\r\nexport const PROGRESS = type => `${type}_PROGRESS`;","import { applyGameFilters } from \"../Charts/chartActions\";\r\n\r\nimport { REQUEST, SUCCESS, FAILURE, PROGRESS } from \"../promiseUtils\";\r\nimport { minDate, maxDate } from \"../../Shared/constants\";\r\n\r\nexport const FETCH_GAMES = \"FETCH_GAMES\";\r\nexport const FETCH_GAMES_PROGRESS = \"FETCH_GAMES_PROGRESS\";\r\nexport const CANCEL_QUERY = \"CANCEL_QUERY\";\r\n\r\nexport const fetchGames = (playerId, cachedGames = []) => async (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  const reduxState = getState();\r\n\r\n  const fetchingPromise = reduxState.games.fetching;\r\n  if (fetchingPromise) fetchingPromise.cancel();\r\n\r\n  const latestId = cachedGames.length > 0 ? cachedGames[0].id : null;\r\n\r\n  const OGSApi = reduxState.OGSApi;\r\n\r\n  try {\r\n    let games = [];\r\n    let fetchingPage = 0;\r\n    let data;\r\n    let fetchingTotalPage = 0;\r\n    let shouldContinueFetching = true;\r\n    let canceled = false;\r\n    do {\r\n      const promise = OGSApi.fetchGamePage(\r\n        playerId,\r\n        data ? data.next : undefined\r\n      );\r\n      dispatch(\r\n        fetchingPage === 0\r\n          ? fetchGamesStart(promise)\r\n          : fetchGamesProgress({\r\n              promise,\r\n              fetchingPage,\r\n              fetchingTotalPage,\r\n              results: games,\r\n            })\r\n      );\r\n      dispatch(applyGameFilters());\r\n      data = await promise;\r\n      canceled = getState().games.canceled;\r\n      if (canceled) {\r\n        shouldContinueFetching = false;\r\n      } else {\r\n        for (const game of data.results) {\r\n          if (game.id !== latestId) games.push(game);\r\n          else {\r\n            shouldContinueFetching = false;\r\n            games = [...games, ...cachedGames];\r\n            break;\r\n          }\r\n        }\r\n\r\n        fetchingPage++;\r\n        fetchingTotalPage = Math.ceil(data.count / 50);\r\n      }\r\n    } while (data.next && shouldContinueFetching);\r\n\r\n    dispatch(fetchGamesSuccess(dispatchStateFrom(games)));\r\n  } catch (error) {\r\n    console.error(error);\r\n    if (typeof error === \"string\") dispatch(fetchGamesFailure(error));\r\n    else\r\n      dispatch(\r\n        fetchGamesFailure(\r\n          \"An error has occured while fetching user games. Please try again later.\"\r\n        )\r\n      );\r\n  }\r\n\r\n  dispatch(applyGameFilters());\r\n};\r\n\r\nconst dispatchStateFrom = (games) => {\r\n  let startDate = games.length\r\n    ? new Date(games[games.length - 1].ended)\r\n    : minDate;\r\n  startDate.setHours(0, 0, 0, 0);\r\n  console.log(startDate);\r\n\r\n  return {\r\n    results: games,\r\n    start: startDate,\r\n    end: games.length ? new Date(games[0].ended) : maxDate,\r\n  };\r\n};\r\n\r\nconst fetchGamesStart = (promise) => ({\r\n  type: REQUEST(FETCH_GAMES),\r\n  payload: promise,\r\n});\r\n\r\nconst fetchGamesProgress = ({\r\n  promise,\r\n  fetchingPage,\r\n  fetchingTotalPage,\r\n  results,\r\n}) => ({\r\n  type: PROGRESS(FETCH_GAMES),\r\n  payload: { fetching: promise, fetchingPage, fetchingTotalPage, results },\r\n});\r\n\r\nconst fetchGamesSuccess = (data) => ({\r\n  type: SUCCESS(FETCH_GAMES),\r\n  payload: data,\r\n});\r\n\r\nconst fetchGamesFailure = (error) => ({\r\n  type: FAILURE(FETCH_GAMES),\r\n  payload: { error },\r\n});\r\n\r\nexport const cancelQuery = () => ({\r\n  type: CANCEL_QUERY,\r\n});\r\n","import { fetchGames } from \"../Games/gameActions\";\r\n\r\nimport { REQUEST, SUCCESS, FAILURE } from '../promiseUtils';\r\n\r\nexport const FETCH_PLAYER = \"FETCH_PLAYER\";\r\n\r\nexport const importPlayer = ({ player, games }) => (dispatch, getState) => {\r\n  const fetchingPromise = getState().player.fetching;\r\n  if (fetchingPromise) fetchingPromise.cancel();\r\n\r\n  dispatch(fetchPlayerSuccess(player));\r\n  dispatch(fetchGames(player.id, games.results));\r\n}\r\n\r\nexport const fetchPlayer = (player) => async (dispatch, getState) => {\r\n  const reduxState = getState();\r\n  const fetchingPromise = reduxState.player.fetching;\r\n  if (fetchingPromise) fetchingPromise.cancel();\r\n\r\n  const OGSApi = reduxState.OGSApi;\r\n  try {\r\n    const userIdPromise = OGSApi.fetchUserId(player);\r\n    dispatch(fetchPlayerStart(userIdPromise));\r\n    const userId = await userIdPromise;\r\n\r\n    const userDataPromise = OGSApi.fetchUserDataById(userId);\r\n    dispatch(fetchPlayerStart(userDataPromise));\r\n    const userData = await userDataPromise;\r\n\r\n    dispatch(fetchGames(userData.id));\r\n\r\n    dispatch(fetchPlayerSuccess({\r\n      id: userData.id,\r\n      username: userData.username,\r\n      rank: parseInt(userData.ranking),\r\n      ratings: userData.ratings,\r\n      registrationDate: userData.registration_date\r\n    }));\r\n  }\r\n  catch (error) {\r\n    console.error(error);\r\n    if (typeof error === \"string\") dispatch(fetchPlayerFailure(error))\r\n    else dispatch(fetchPlayerFailure(\"An error has occured while fetching user info. Please try again later.\"));\r\n  }\r\n};\r\n\r\nconst fetchPlayerStart = (promise) => ({\r\n  type: REQUEST(FETCH_PLAYER),\r\n  payload: promise\r\n});\r\n\r\nconst fetchPlayerSuccess = (data) => ({\r\n  type: SUCCESS(FETCH_PLAYER),\r\n  payload: data,\r\n});\r\n\r\nconst fetchPlayerFailure = (error) => ({\r\n  type: FAILURE(FETCH_PLAYER),\r\n  payload: { error }\r\n});","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { saveAs } from \"file-saver\";\r\nimport { importPlayer, fetchPlayer } from \"../../Redux/Player/playerActions\";\r\n\r\nconst exporterVersion = 0;\r\n\r\nclass SearchBox extends Component {\r\n  static propTypes = {\r\n    history: PropTypes.object.isRequired,\r\n  };\r\n\r\n  state = {\r\n    username: \"\",\r\n  };\r\n\r\n  updateSearchUser = (event) => {\r\n    this.setState({\r\n      username: event.target.value,\r\n    });\r\n  };\r\n\r\n  submit = (event) => {\r\n    event.preventDefault();\r\n\r\n    if (this.state.username) {\r\n      this.props.history.push(`/user/${this.state.username}`);\r\n      this.props.getPlayerData(this.state.username);\r\n\r\n      this.setState({\r\n        username: \"\",\r\n      });\r\n\r\n      if (document.activeElement) {\r\n        document.activeElement.blur();\r\n      }\r\n    }\r\n  };\r\n\r\n  downloadJSON = () => {\r\n    const { id, username, ratings, rank, registrationDate } = this.props.player;\r\n\r\n    const { start, end, results } = this.props.games;\r\n\r\n    const jsonString = JSON.stringify({\r\n      exporterVersion,\r\n      player: {\r\n        id,\r\n        username,\r\n        ratings,\r\n        rank,\r\n        registrationDate,\r\n      },\r\n      games: {\r\n        start,\r\n        end,\r\n        results,\r\n      },\r\n    });\r\n\r\n    var blob = new Blob([jsonString], { type: \"text/json;charset=utf-8\" });\r\n    saveAs(blob, `gotstats_${username}.json`);\r\n    window.alert(\r\n      \"Player data file exported.\\nYou can use it for quick import in the future.\"\r\n    );\r\n  };\r\n\r\n  readFile = (event) => {\r\n    const file = event.target.files[0];\r\n    var reader = new FileReader();\r\n    reader.onload = (evt) => {\r\n      this.readImportedJSON(evt.target.result);\r\n    };\r\n    reader.readAsText(file);\r\n  };\r\n\r\n  readImportedJSON = (jsonString) => {\r\n    const data = JSON.parse(jsonString);\r\n    this.props.history.push(`/user/${data.player.username}`);\r\n    this.props.importPlayerData(data);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <form onSubmit={this.submit}>\r\n        <div className=\"form-group\">\r\n          <div className=\"input-group\">\r\n            <input\r\n              value={this.state.username}\r\n              onChange={this.updateSearchUser}\r\n              name=\"id\"\r\n              type=\"text\"\r\n              placeholder=\"Username or ID\"\r\n              className=\"form-control\"\r\n            />\r\n            <span className=\"input-group-btn\">\r\n              <button type=\"submit\" className=\"btn btn-primary\">\r\n                Got Stats?\r\n              </button>\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        <p className=\"text-center\">\r\n          <small className=\"tip help-block\">\r\n            <em>-- or --</em>\r\n          </small>\r\n        </p>\r\n\r\n        <div className=\"form-group\">\r\n          <p className=\"d-flex justify-content-between\">\r\n            <input\r\n              type=\"file\"\r\n              onChange={this.readFile}\r\n              id=\"file_input\"\r\n              style={{ display: \"none\" }}\r\n            />\r\n            <button\r\n              className=\"btn btn-secondary\"\r\n              onClick={() => document.getElementById(\"file_input\").click()}\r\n            >\r\n              Import Data\r\n            </button>\r\n            {this.props.games.results.length > 0 && !this.props.games.canceled && (\r\n              <button className=\"btn btn-secondary\" onClick={this.downloadJSON}>\r\n                Export Data\r\n              </button>\r\n            )}\r\n          </p>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapReduxStateToProps = ({ player, games }) => ({ player, games });\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  importPlayerData: (data) => dispatch(importPlayer(data)),\r\n  getPlayerData: (player) => dispatch(fetchPlayer(player)),\r\n});\r\n\r\nexport default withRouter(\r\n  connect(mapReduxStateToProps, mapDispatchToProps)(SearchBox)\r\n);\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Scrollspy from 'react-scrollspy';\r\n\r\nconst links = [\r\n  [\"total_games_stats\", \"Win/Loss ratio\"],\r\n  [\"game_results\", \"Game results distribution\"],\r\n  [\"board_sizes_stats\", \"Performance across board sizes\"],\r\n  [\"time_settings_stats\", \"Performance across time settings\"],\r\n  [\"opponents_stats\", \"Opponents statistics\"],\r\n  [\"misc_stats\", \"Miscellaneous information\"]\r\n]\r\n\r\n\r\nclass QuickLinks extends Component {\r\n  static propTypes = {\r\n    scrollToElem: PropTypes.func.isRequired\r\n  }\r\n\r\n  onLinkClicked = (event, link) => {\r\n    event.preventDefault();\r\n    this.props.scrollToElem(link);\r\n  }\r\n\r\n  renderLink = (linkData, index) => (<li key={index}><a href={`#${linkData[0]}`} onClick={(e) => this.onLinkClicked(e, linkData[0])}>{linkData[1]}</a></li>)\r\n\r\n  render() {\r\n    return (\r\n      <Scrollspy className=\"navi_list\" items={links.map(linkData => linkData[0])} currentClassName=\"active\">\r\n        {links.map(this.renderLink)}\r\n      </Scrollspy>\r\n    );\r\n  }\r\n}\r\n\r\nexport default QuickLinks;\r\n","import React from \"react\";\r\nimport \"./loading-icon.css\";\r\n\r\nconst LoadingIcon = ({ style }) => {\r\n  const radius = 46; // change css with corresponding circumference\r\n  const strokeWidth = 8;\r\n  const outerRadius = radius + strokeWidth / 2;\r\n  const circumference = Math.PI * (radius * 2);\r\n\r\n  return (\r\n    <svg\r\n      width={outerRadius * 2}\r\n      height={outerRadius * 2}\r\n      viewBox={`0 0 ${outerRadius * 2} ${outerRadius * 2}`}\r\n      transform=\"rotate(-90)\"\r\n      version=\"1.1\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      xmlnsXlink=\"http://www.w3.org/1999/xlink\"\r\n      shapeRendering=\"optimizeQuality\"\r\n      style={style}\r\n    >\r\n      <circle\r\n        r={radius}\r\n        cx={outerRadius}\r\n        cy={outerRadius}\r\n        fill=\"black\"\r\n        className=\"small_loading_icon_bg\"\r\n      />\r\n      <circle\r\n        r={radius}\r\n        cx={outerRadius}\r\n        cy={outerRadius}\r\n        fill=\"transparent\"\r\n        strokeWidth={strokeWidth}\r\n        stroke=\"white\"\r\n        strokeDasharray={circumference}\r\n        className=\"small_loading_icon_ring\"\r\n      />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default LoadingIcon;\r\n","import React, { Component } from \"react\";\r\n\r\nimport SearchBox from \"./SearchBox\";\r\nimport QuickLinks from \"./QuickLinks\";\r\nimport LoadingIcon from \"../../Shared/Components/LoadingIcon/LoadingIcon\";\r\nimport { connect } from \"react-redux\";\r\nimport { cancelQuery } from \"../../Redux/Games/gameActions\";\r\n\r\nclass SideBar extends Component {\r\n  render() {\r\n    const {\r\n      fetching,\r\n      errorMessage,\r\n      currentPage,\r\n      totalPages,\r\n      showQuickLinks,\r\n      cancelQuery,\r\n      canceled,\r\n    } = this.props;\r\n\r\n    const quickLinks = showQuickLinks ? (\r\n      <div className=\"navi d-none d-md-block\">\r\n        <hr />\r\n        <small className=\"tip help-block\">\r\n          <em>*Mouse over/tap on a chart to see more info.</em>\r\n        </small>\r\n        <QuickLinks scrollToElem={this.props.scrollToElem} />\r\n      </div>\r\n    ) : null;\r\n    const searchBoxOrLoadProgress =\r\n      errorMessage || !(fetching && totalPages > 0) ? (\r\n        <>\r\n          {errorMessage && (\r\n            <div className=\"mb-3 text-danger\">{errorMessage}</div>\r\n          )}\r\n          {canceled && (\r\n            <div className=\"mb-3 text-secondary\">\r\n              Request cancelled, displaying data based on some recent games.\r\n            </div>\r\n          )}\r\n          <SearchBox />\r\n        </>\r\n      ) : (\r\n        <>\r\n          <div className=\"d-flex align-items-center\">\r\n            <LoadingIcon\r\n              style={{\r\n                width: 32,\r\n                height: 32,\r\n                marginRight: 15,\r\n                flex: \"0 0 auto\",\r\n              }}\r\n            />\r\n            <div>\r\n              Fetching games result from OGS - Page {currentPage + 1}\r\n              {totalPages && ` of ${totalPages}`}\r\n            </div>\r\n          </div>\r\n          <div className=\"mt-3\">\r\n            <button\r\n              className=\"btn btn-block btn-secondary\"\r\n              onClick={cancelQuery}\r\n            >\r\n              Stop\r\n            </button>\r\n          </div>\r\n        </>\r\n      );\r\n\r\n    return (\r\n      <div className=\"col-lg-3 col-md-4 order-md-2 sidebar\">\r\n        <nav className=\"side_nav sticky-top\">\r\n          {searchBoxOrLoadProgress}\r\n\r\n          {quickLinks}\r\n\r\n          <hr />\r\n          <a\r\n            href=\"https://forums.online-go.com/t/g0tstats-is-back-with-more-stats/6524\"\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer nofollow\"\r\n          >\r\n            Support thread on OGS forum\r\n          </a>\r\n        </nav>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapReduxStateToProps = ({ chartsData, games }) => ({\r\n  fetching: games.fetching,\r\n  currentPage: games.fetchingPage,\r\n  totalPages: games.fetchingTotalPage,\r\n  errorMessage: games.fetchError,\r\n  showQuickLinks: chartsData.results.length > 0,\r\n  canceled: games.canceled,\r\n});\r\n\r\nconst mapDispatchToProps = { cancelQuery };\r\n\r\nexport default connect(mapReduxStateToProps, mapDispatchToProps)(SideBar);\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport \"./go_loading.css\";\r\n\r\nclass LoadingUser extends Component {\r\n  static propTypes = {\r\n    errorMessage: PropTypes.string,\r\n    currentPage: PropTypes.number,\r\n    totalPages: PropTypes.number,\r\n  };\r\n\r\n  render() {\r\n    const { errorMessage } = this.props;\r\n\r\n    const loadMessage = `Fetching user info from OGS...`;\r\n\r\n    return (\r\n      <div className=\"loading_wrapper\">\r\n        <svg className=\"loading_icon animating\" width=\"150\" height=\"150\">\r\n          <circle\r\n            className=\"black_stone3\"\r\n            cx=\"71.5\"\r\n            cy=\"28.5\"\r\n            r=\"19.5\"\r\n            strokeWidth=\"0\"\r\n            fill=\"#000000\"\r\n          />\r\n          <circle\r\n            className=\"black_stone2\"\r\n            cx=\"28.5\"\r\n            cy=\"71.5\"\r\n            r=\"19.5\"\r\n            strokeWidth=\"0\"\r\n            fill=\"#000000\"\r\n          />\r\n          <circle\r\n            className=\"black_stone1\"\r\n            cx=\"114.5\"\r\n            cy=\"71.5\"\r\n            r=\"19.5\"\r\n            strokeWidth=\"0\"\r\n            fill=\"#000000\"\r\n          />\r\n          <circle\r\n            className=\"black_stone4\"\r\n            cx=\"71.5\"\r\n            cy=\"114.5\"\r\n            r=\"19.5\"\r\n            strokeWidth=\"0\"\r\n            fill=\"#000000\"\r\n          />\r\n          <circle\r\n            className=\"white_stone\"\r\n            cx=\"71.5\"\r\n            cy=\"71.5\"\r\n            r=\"20\"\r\n            strokeWidth=\"0\"\r\n            fill=\"#f8f8ff\"\r\n          />\r\n        </svg>\r\n        <p className=\"loading_text\">{errorMessage || loadMessage}</p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapReduxStateToProps = ({ player, games }) => ({\r\n  isFetchingPlayer: player.fetching,\r\n  currentPage: games.fetchingPage,\r\n  totalPages: games.fetchingTotalPage,\r\n  errorMessage: player.fetchError || games.fetchError,\r\n});\r\n\r\nexport default connect(mapReduxStateToProps)(LoadingUser);\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Chart } from 'react-google-charts';\r\n\r\nclass WinLoseChart extends Component {\r\n  static propTypes = {\r\n    title: PropTypes.string,\r\n    id: PropTypes.string,\r\n    games: PropTypes.array.isRequired,\r\n    player: PropTypes.object.isRequired,\r\n    footer: PropTypes.element\r\n  }\r\n\r\n  state = {\r\n    mainChartOptions: {\r\n      backgroundColor: \"transparent\",\r\n      chartArea: { top: 60 },\r\n      colors: [\"#000000\", \"#f8f8ff\"],\r\n      pieSliceTextStyle: { color: \"#d93344\" },\r\n      legend: {\r\n        position: \"bottom\",\r\n        textStyle: {\r\n          color: \"#f8f8ff\",\r\n          fontName: \"Roboto\",\r\n          fontSize: 14\r\n        }\r\n      },\r\n      animation: {\r\n        startup: true,\r\n        easing: 'inout',\r\n        duration: 500,\r\n      },\r\n    },\r\n    subChartOptions: {\r\n      backgroundColor: \"transparent\",\r\n      chartArea: { top: 10 },\r\n      colors: [\"#d93344\", \"#41CD64\", \"#5486d1\", \"#9d4dc5\"],\r\n      pieSliceTextStyle: { color: \"#ffffff\" },\r\n      legend: {\r\n        maxLines: 2,\r\n        position: \"bottom\",\r\n        textStyle: {\r\n          color: \"#f8f8ff\",\r\n          fontName: \"Roboto\",\r\n          fontSize: 14\r\n        }\r\n      },\r\n      animation: {\r\n        startup: true,\r\n        easing: 'inout',\r\n        duration: 500,\r\n      },\r\n    }\r\n  }\r\n\r\n  computeWinLoseStatistics = (games, playerId) => {\r\n    var blackGames = 0, whiteGames = 0,\r\n      blackLosses = 0, whiteLosses = 0;\r\n    for (let game of games) {\r\n      if (game.players.black.id === playerId) {\r\n        blackGames++;\r\n        if (game.black_lost) {\r\n          blackLosses++;\r\n        }\r\n      }\r\n      else {\r\n        whiteGames++;\r\n        if (game.white_lost) {\r\n          whiteLosses++;\r\n        }\r\n      }\r\n    };\r\n\r\n    return {\r\n      blackGames,\r\n      blackLosses,\r\n      whiteGames,\r\n      whiteLosses\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { games, player } = this.props;\r\n\r\n    const statistics = this.computeWinLoseStatistics(games, player.id);\r\n\r\n    const chartData1 = [\r\n      ['Color', 'Games'],\r\n      ['Black', statistics.blackGames],\r\n      ['White', statistics.whiteGames],\r\n    ];\r\n    const chartData2 = [\r\n      ['Result', 'Games'],\r\n      ['Losses', (statistics.blackLosses + statistics.whiteLosses)],\r\n      ['Wins', (statistics.blackGames + statistics.whiteGames) - (statistics.blackLosses + statistics.whiteLosses)],\r\n    ];\r\n    const chartData3 = statistics.blackGames > 0 ? [\r\n      ['Result', 'Games'],\r\n      ['Losses', statistics.blackLosses],\r\n      ['Wins', statistics.blackGames - statistics.blackLosses],\r\n    ] : null;\r\n    const chartData4 = statistics.whiteGames > 0 ? [\r\n      ['Result', 'Games'],\r\n      ['Losses', statistics.whiteLosses],\r\n      ['Wins', statistics.whiteGames - statistics.whiteLosses],\r\n    ] : null;\r\n\r\n    return (\r\n      <section className=\"stats_block\">\r\n        <h2 id={this.props.id} className=\"text-center\">{this.props.title}</h2>\r\n        <div className=\"row\">\r\n          {\r\n            chartData1 ? (\r\n              <div className=\"col-sm-6 mr-auto ml-auto\">\r\n                <Chart\r\n                  chartType=\"PieChart\"\r\n                  options={this.state.mainChartOptions}\r\n                  data={chartData1}\r\n                  width={'100%'}\r\n                  height={'400px'}\r\n                />\r\n              </div>\r\n            ) : null\r\n          }\r\n        </div>\r\n        <h3 className=\"text-center\">Win/Loss ratio</h3>\r\n        <div className=\"row\">\r\n          {\r\n            chartData2 ? (\r\n              <div className=\"col-md-4\">\r\n                <h5 className=\"text-center\">Total</h5>\r\n                <Chart\r\n                  chartType=\"PieChart\"\r\n                  options={this.state.subChartOptions}\r\n                  data={chartData2}\r\n                  width={'100%'}\r\n                  height={'250px'}\r\n                />\r\n              </div>\r\n            ) : null\r\n          }\r\n          {\r\n            chartData3 ? (\r\n              <div className=\"col-md-4\">\r\n                <h5 className=\"text-center\">As Black</h5>\r\n                <Chart\r\n                  chartType=\"PieChart\"\r\n                  options={this.state.subChartOptions}\r\n                  data={chartData3}\r\n                  width={'100%'}\r\n                  height={'250px'}\r\n                />\r\n              </div>\r\n            ) : null\r\n          }\r\n          {\r\n            chartData4 ? (\r\n              <div className=\"col-md-4\">\r\n                <h5 className=\"text-center\">As White</h5>\r\n                <Chart\r\n                  chartType=\"PieChart\"\r\n                  options={this.state.subChartOptions}\r\n                  data={chartData4}\r\n                  width={'100%'}\r\n                  height={'250px'}\r\n                />\r\n              </div>\r\n            ) : null\r\n          }\r\n        </div>\r\n        {this.props.footer}\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default WinLoseChart;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Chart } from 'react-google-charts';\r\n\r\nimport { isPlayerWin } from '../../Shared/utils';\r\n\r\nclass ResultDistributionChart extends Component {\r\n  static propTypes = {\r\n    title: PropTypes.string,\r\n    id: PropTypes.string,\r\n    games: PropTypes.array.isRequired,\r\n    player: PropTypes.object.isRequired\r\n  }\r\n\r\n  state = {\r\n    pieChartOptions: {\r\n      backgroundColor: \"transparent\",\r\n      chartArea: { top: 10, left: 0, right: 0 },\r\n      colors: [\"#d93344\", \"#41CD64\", \"#5486d1\", \"#9d4dc5\"],\r\n      pieSliceTextStyle: { color: \"#ffffff\" },\r\n      legend: {\r\n        position: \"bottom\",\r\n        textStyle: {\r\n          color: \"#f8f8ff\",\r\n          fontName: \"Roboto\",\r\n          fontSize: 14\r\n        }\r\n      }\r\n    },\r\n    columnChartOptions: {\r\n      backgroundColor: \"transparent\",\r\n      isStacked: true,\r\n      chartArea: { top: 10 },\r\n      colors: [\"#d93344\", \"#41CD64\", \"#5486d1\", \"#9d4dc5\"],\r\n      legend: {\r\n        maxLines: 2,\r\n        position: \"bottom\",\r\n        textStyle: {\r\n          color: \"#f8f8ff\",\r\n          fontName: \"Roboto\",\r\n          fontSize: 14\r\n        }\r\n      },\r\n      hAxis: { textStyle: { color: \"#f8f8ff\", fontName: \"Roboto\", fontSize: 11 } },\r\n      vAxis: { textStyle: { color: \"#f8f8ff\", fontName: \"Roboto\", fontSize: 11 } }\r\n    }\r\n  }\r\n\r\n  assignGameResultToDistributions = (distributions, game) => {\r\n    const isWin = isPlayerWin(game, distributions.id);\r\n\r\n    if (game.outcome === \"Resignation\") {\r\n      distributions[`${isWin ? 'Plr' : 'Opp'}+Res`]++;\r\n    }\r\n    else if (game.outcome === \"Timeout\") {\r\n      distributions[`${isWin ? 'Plr' : 'Opp'}+Time`]++;\r\n    }\r\n    else if (!isNaN(game.outcome.split(\" \")[0])) {\r\n      const points = parseFloat(game.outcome.split(\" \")[0], 10);\r\n      const pointDiff = Math.floor(points / 10);\r\n\r\n      var result = (pointDiff < 4 ? pointDiff : 4) * 10 + \"+\";\r\n      result = `${isWin ? 'Plr' : 'Opp'}+${result}`;\r\n\r\n      distributions[`${isWin ? 'Plr' : 'Opp'}+Count`]++;\r\n      distributions[result]++;\r\n    }\r\n    else {\r\n      distributions[`${isWin ? 'Plr' : 'Opp'}+Other`]++;\r\n    }\r\n\r\n    return distributions;\r\n  }\r\n\r\n  computeWinLoseDistributions = (games, playerId) => {\r\n    var distributions = {\r\n      \"id\": playerId,\r\n      \"Opp+Other\": 0,\r\n      \"Opp+Count\": 0,\r\n      \"Opp+Time\": 0,\r\n      \"Opp+Res\": 0,\r\n      \"Opp+40+\": 0,\r\n      \"Opp+30+\": 0,\r\n      \"Opp+20+\": 0,\r\n      \"Opp+10+\": 0,\r\n      \"Opp+0+\": 0,\r\n      \"Plr+0+\": 0,\r\n      \"Plr+10+\": 0,\r\n      \"Plr+20+\": 0,\r\n      \"Plr+30+\": 0,\r\n      \"Plr+40+\": 0,\r\n      \"Plr+Res\": 0,\r\n      \"Plr+Time\": 0,\r\n      \"Plr+Count\": 0,\r\n      \"Plr+Other\": 0\r\n    };\r\n\r\n    return games.reduce(this.assignGameResultToDistributions, distributions);\r\n  }\r\n\r\n  generateChartData(games, playerId) {\r\n    const distributions = this.computeWinLoseDistributions(games, playerId);\r\n\r\n    return {\r\n      chartData1: [\r\n        ['Result', 'Games'],\r\n        ['Timeout', distributions[\"Plr+Time\"]],\r\n        ['Resign', distributions[\"Plr+Res\"]],\r\n        ['Scoring', distributions[\"Plr+Count\"]],\r\n        ['Other', distributions[\"Plr+Other\"]]\r\n      ],\r\n      chartData2: [\r\n        ['Result', 'Games'],\r\n        ['Timeout', distributions[\"Opp+Time\"]],\r\n        ['Resign', distributions[\"Opp+Res\"]],\r\n        ['Scoring', distributions[\"Opp+Count\"]],\r\n        ['Other', distributions[\"Opp+Other\"]]\r\n      ],\r\n      chartData3: [\r\n        ['Outcome', 'Losses', `Wins`],\r\n        ['40+', distributions[\"Opp+40+\"], null],\r\n        ['30+', distributions[\"Opp+30+\"], null],\r\n        ['20+', distributions[\"Opp+20+\"], null],\r\n        ['10+', distributions[\"Opp+10+\"], null],\r\n        ['0+', distributions[\"Opp+0+\"], null],\r\n        ['0+', null, distributions[\"Plr+0+\"]],\r\n        ['10+', null, distributions[\"Plr+10+\"]],\r\n        ['20+', null, distributions[\"Plr+20+\"]],\r\n        ['30+', null, distributions[\"Plr+30+\"]],\r\n        ['40+', null, distributions[\"Plr+40+\"]]\r\n      ]\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { games, player } = this.props;\r\n\r\n    const {\r\n      chartData1,\r\n      chartData2,\r\n      chartData3\r\n    } = this.generateChartData(games, player.id);\r\n\r\n    return (\r\n      <section className=\"stats_block\">\r\n        <h2 id={this.props.id} className=\"text-center\">{this.props.title}</h2>\r\n        <div className=\"row\">\r\n          {\r\n            chartData2 ? (\r\n              <div className=\"col-md-6\">\r\n                <h5 className=\"text-center\">Losses</h5>\r\n                <Chart\r\n                  chartType=\"PieChart\"\r\n                  options={this.state.pieChartOptions}\r\n                  data={chartData2}\r\n                  width={'100%'}\r\n                  height={'300px'}\r\n                />\r\n              </div>\r\n            ) : null\r\n          }\r\n          {\r\n            chartData1 ? (\r\n              <div className=\"col-md-6\">\r\n                <h5 className=\"text-center\">Wins</h5>\r\n                <Chart\r\n                  chartType=\"PieChart\"\r\n                  options={this.state.pieChartOptions}\r\n                  data={chartData1}\r\n                  width={'100%'}\r\n                  height={'300px'}\r\n                />\r\n              </div>\r\n            ) : null\r\n          }\r\n        </div>\r\n        <div className=\"row\">\r\n          {\r\n            chartData3 ? (\r\n              <div className=\"col-12\">\r\n                <h3 className=\"text-center\">Final scoring distribution</h3>\r\n                <Chart\r\n                  chartType=\"ColumnChart\"\r\n                  options={this.state.columnChartOptions}\r\n                  data={chartData3}\r\n                  width={'100%'}\r\n                  height={'300px'}\r\n                />\r\n              </div>\r\n            ) : null\r\n          }\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ResultDistributionChart;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Chart } from 'react-google-charts';\r\nimport { isPlayerWin } from '../../Shared/utils';\r\n\r\nclass BoardSizesChart extends Component {\r\n  static propTypes = {\r\n    title: PropTypes.string,\r\n    id: PropTypes.string,\r\n    games: PropTypes.array.isRequired,\r\n    player: PropTypes.object.isRequired\r\n  }\r\n\r\n  state = {\r\n    mainChartOptions: {\r\n      backgroundColor: \"transparent\",\r\n      chartArea: {\r\n        top: 60,\r\n        left: 0,\r\n        right: 0\r\n      },\r\n      colors: [\"#d93344\", \"#41CD64\", \"#5486d1\", \"#9d4dc5\"],\r\n      pieSliceTextStyle: { color: \"#ffffff\" },\r\n      legend: {\r\n        maxLines: 2,\r\n        position: \"bottom\",\r\n        alignment: 'center',\r\n        textStyle: {\r\n          color: \"#f8f8ff\",\r\n          fontName: \"Roboto\",\r\n          fontSize: 14\r\n        }\r\n      }\r\n    },\r\n    pieChartOptions: {\r\n      backgroundColor: \"transparent\",\r\n      chartArea: { top: 10 },\r\n      colors: [\"#d93344\", \"#41CD64\", \"#5486d1\", \"#9d4dc5\"],\r\n      pieSliceTextStyle: { color: \"#ffffff\" },\r\n      legend: {\r\n        maxLines: 2,\r\n        position: \"bottom\",\r\n        textStyle: {\r\n          color: \"#f8f8ff\",\r\n          fontName: \"Roboto\",\r\n          fontSize: 14\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  computeBoardSizes = (games, playerId) => {\r\n    var nineteenGames = 0, thirteenGames = 0, nineGames = 0, otherGames = 0,\r\n      nineteenLosses = 0, thirteenLosses = 0, nineLosses = 0, otherLosses = 0;\r\n\r\n    games.forEach(game => {\r\n      if (game.width === 19 && game.height === 19) {\r\n        nineteenGames++;\r\n        if (!isPlayerWin(game, playerId)) nineteenLosses++;\r\n      }\r\n      else if (game.width === 13 && game.height === 13) {\r\n        thirteenGames++;\r\n        if (!isPlayerWin(game, playerId)) thirteenLosses++;\r\n      }\r\n      else if (game.width === 9 && game.height === 9) {\r\n        nineGames++;\r\n        if (!isPlayerWin(game, playerId)) nineLosses++;\r\n      }\r\n      else {\r\n        otherGames++;\r\n        if (!isPlayerWin(game, playerId)) otherLosses++;\r\n      }\r\n    });\r\n\r\n    return {\r\n      nineteenGames, thirteenGames, nineGames, otherGames,\r\n      nineteenLosses, thirteenLosses, nineLosses, otherLosses\r\n    }\r\n  }\r\n\r\n  generateChartData = (games, playerId) => {\r\n    const {\r\n      nineteenGames, thirteenGames, nineGames, otherGames,\r\n      nineteenLosses, thirteenLosses, nineLosses, otherLosses\r\n    } = this.computeBoardSizes(games, playerId);\r\n\r\n    return {\r\n      chartData1: [\r\n        ['Size', 'Games'],\r\n        ['19x19', nineteenGames],\r\n        ['13x13', thirteenGames],\r\n        ['9x9', nineGames],\r\n        ['Other', otherGames],\r\n      ],\r\n      chartData2: nineteenGames > 0 ? [\r\n        ['Result', 'Games'],\r\n        ['Losses', nineteenLosses],\r\n        ['Wins', (nineteenGames - nineteenLosses)],\r\n      ] : null,\r\n      chartData3: thirteenGames > 0 ? [\r\n        ['Result', 'Games'],\r\n        ['Losses', thirteenLosses],\r\n        ['Wins', (thirteenGames - thirteenLosses)],\r\n      ] : null,\r\n      chartData4: nineGames > 0 ? [\r\n        ['Result', 'Games'],\r\n        ['Losses', nineLosses],\r\n        ['Wins', (nineGames - nineLosses)],\r\n      ] : null,\r\n      chartData5: otherGames > 0 ? [\r\n        ['Result', 'Games'],\r\n        ['Losses', otherLosses],\r\n        ['Wins', (otherGames - otherLosses)],\r\n      ] : null\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { games, player } = this.props;\r\n\r\n    const {\r\n      chartData1,\r\n      chartData2,\r\n      chartData3,\r\n      chartData4,\r\n      chartData5\r\n    } = this.generateChartData(games, player.id);\r\n\r\n    return (\r\n      <section className=\"stats_block\">\r\n        <h2 id={this.props.id} className=\"text-center\">{this.props.title}</h2>\r\n        <div className=\"row\">\r\n          {\r\n            chartData1 ? (\r\n              <div className=\"col-md-6 mr-auto ml-auto\">\r\n                <Chart\r\n                  chartType=\"PieChart\"\r\n                  options={this.state.mainChartOptions}\r\n                  data={chartData1}\r\n                  width={'100%'}\r\n                  height={'400px'}\r\n                />\r\n              </div>\r\n            ) : null\r\n          }\r\n        </div>\r\n        <h3 className=\"text-center\">Win/Loss ratio</h3>\r\n        <div className=\"row\">\r\n          {\r\n            chartData2 ? (\r\n              <div className=\"col-md-6\">\r\n                <h5 className=\"text-center\">19x19</h5>\r\n                <Chart\r\n                  chartType=\"PieChart\"\r\n                  options={this.state.pieChartOptions}\r\n                  data={chartData2}\r\n                  width={'100%'}\r\n                  height={'250px'}\r\n                />\r\n              </div>\r\n            ) : null\r\n          }\r\n          {\r\n            chartData3 ? (\r\n              <div className=\"col-md-6\">\r\n                <h5 className=\"text-center\">13x13</h5>\r\n                <Chart\r\n                  chartType=\"PieChart\"\r\n                  options={this.state.pieChartOptions}\r\n                  data={chartData3}\r\n                  width={'100%'}\r\n                  height={'250px'}\r\n                />\r\n              </div>\r\n            ) : null\r\n          }\r\n          {\r\n            chartData4 ? (\r\n              <div className=\"col-md-6\">\r\n                <h5 className=\"text-center\">9x9</h5>\r\n                <Chart\r\n                  chartType=\"PieChart\"\r\n                  options={this.state.pieChartOptions}\r\n                  data={chartData4}\r\n                  width={'100%'}\r\n                  height={'250px'}\r\n                />\r\n              </div>\r\n            ) : null\r\n          }\r\n          {\r\n            chartData5 ? (\r\n              <div className=\"col-md-6\">\r\n                <h5 className=\"text-center\">Other Sizes</h5>\r\n                <Chart\r\n                  chartType=\"PieChart\"\r\n                  options={this.state.pieChartOptions}\r\n                  data={chartData5}\r\n                  width={'100%'}\r\n                  height={'250px'}\r\n                />\r\n              </div>\r\n            ) : null\r\n          }\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BoardSizesChart;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Chart } from 'react-google-charts';\r\n\r\nimport { isPlayerWin } from '../../Shared/utils';\r\n\r\nclass TimeSettingsChart extends Component {\r\n  static propTypes = {\r\n    title: PropTypes.string,\r\n    id: PropTypes.string,\r\n    games: PropTypes.array.isRequired,\r\n    player: PropTypes.object.isRequired\r\n  }\r\n\r\n  state = {\r\n    mainChartOptions: {\r\n      backgroundColor: \"transparent\",\r\n      chartArea: {\r\n        top: 60,\r\n        left: 0,\r\n        right: 0\r\n      },\r\n      colors: [\"#d93344\", \"#41CD64\", \"#5486d1\", \"#9d4dc5\"],\r\n      pieSliceTextStyle: { color: \"#ffffff\" },\r\n      legend: {\r\n        maxLines: 2,\r\n        position: \"bottom\",\r\n        textStyle: {\r\n          color: \"#f8f8ff\",\r\n          fontName: \"Roboto\",\r\n          fontSize: 14\r\n        }\r\n      }\r\n    },\r\n    pieChartOptions: {\r\n      backgroundColor: \"transparent\",\r\n      chartArea: { top: 10 },\r\n      colors: [\"#d93344\", \"#41CD64\", \"#5486d1\", \"#9d4dc5\"],\r\n      pieSliceTextStyle: { color: \"#ffffff\" },\r\n      legend: {\r\n        maxLines: 2,\r\n        position: \"bottom\",\r\n        textStyle: {\r\n          color: \"#f8f8ff\",\r\n          fontName: \"Roboto\",\r\n          fontSize: 14\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  computeTimeSettings = (games, playerId) => {\r\n    var blitzGames = 0, liveGames = 0, correspondenceGames = 0,\r\n      blitzLosses = 0, liveLosses = 0, correspondenceLosses = 0;\r\n    games.forEach(game => {\r\n      if (game.time_per_move < 20) {\r\n        blitzGames++;\r\n        if (!isPlayerWin(game, playerId)) {\r\n          blitzLosses++;\r\n        }\r\n      }\r\n      else if (game.time_per_move > 10800) {\r\n        correspondenceGames++;\r\n        if (!isPlayerWin(game, playerId)) {\r\n          correspondenceLosses++;\r\n        }\r\n      }\r\n      else {\r\n        liveGames++;\r\n        if (!isPlayerWin(game, playerId)) {\r\n          liveLosses++;\r\n        }\r\n      }\r\n    });\r\n\r\n    return {\r\n      blitzGames, liveGames, correspondenceGames,\r\n      blitzLosses, liveLosses, correspondenceLosses\r\n    }\r\n  }\r\n\r\n  generateChartData(games, playerId) {\r\n    const times = this.computeTimeSettings(games, playerId);\r\n\r\n    return {\r\n      chartData1: [\r\n        ['Size', 'Games'],\r\n        ['Blitz', times.blitzGames],\r\n        ['Live', times.liveGames],\r\n        ['Correspondence', times.correspondenceGames]\r\n      ],\r\n      chartData2: times.blitzGames > 0 ? [\r\n        ['Result', 'Games'],\r\n        ['Losses', times.blitzLosses],\r\n        ['Wins', (times.blitzGames - times.blitzLosses)],\r\n      ] : null,\r\n      chartData3: times.liveGames > 0 ? [\r\n        ['Result', 'Games'],\r\n        ['Losses', times.liveLosses],\r\n        ['Wins', (times.liveGames - times.liveLosses)],\r\n      ] : null,\r\n      chartData4: times.correspondenceGames > 0 ? [\r\n        ['Result', 'Games'],\r\n        ['Losses', times.correspondenceLosses],\r\n        ['Wins', (times.correspondenceGames - times.correspondenceLosses)],\r\n      ] : null\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { games, player } = this.props;\r\n    const {\r\n      chartData1,\r\n      chartData2,\r\n      chartData3,\r\n      chartData4\r\n    } = this.generateChartData(games, player.id);\r\n\r\n    return (\r\n      <section className=\"stats_block\">\r\n        <h2 id={this.props.id} className=\"text-center\">{this.props.title}</h2>\r\n        <div className=\"row\">\r\n          {\r\n            chartData1 ? (\r\n              <div className=\"col-sm-6 mr-auto ml-auto\">\r\n                <Chart\r\n                  chartType=\"PieChart\"\r\n                  options={this.state.mainChartOptions}\r\n                  data={chartData1}\r\n                  width={'100%'}\r\n                  height={'400px'}\r\n                />\r\n              </div>\r\n            ) : null\r\n          }\r\n        </div>\r\n        <h3 className=\"text-center\">Win/Loss ratio</h3>\r\n        <div className=\"row\">\r\n          {\r\n            chartData2 ? (\r\n              <div className=\"col-md-4\">\r\n                <h5 className=\"text-center\">Blitz</h5>\r\n                <Chart\r\n                  chartType=\"PieChart\"\r\n                  options={this.state.pieChartOptions}\r\n                  data={chartData2}\r\n                  width={'100%'}\r\n                  height={'250px'}\r\n                />\r\n              </div>\r\n            ) : null\r\n          }\r\n          {\r\n            chartData3 ? (\r\n              <div className=\"col-md-4\">\r\n                <h5 className=\"text-center\">Live</h5>\r\n                <Chart\r\n                  chartType=\"PieChart\"\r\n                  options={this.state.pieChartOptions}\r\n                  data={chartData3}\r\n                  width={'100%'}\r\n                  height={'250px'}\r\n                />\r\n              </div>\r\n            ) : null\r\n          }\r\n          {\r\n            chartData4 ? (\r\n              <div className=\"col-md-4\">\r\n                <h5 className=\"text-center\">Correspondence</h5>\r\n                <Chart\r\n                  chartType=\"PieChart\"\r\n                  options={this.state.pieChartOptions}\r\n                  data={chartData4}\r\n                  width={'100%'}\r\n                  height={'250px'}\r\n                />\r\n              </div>\r\n            ) : null\r\n          }\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TimeSettingsChart;\r\n","import React from \"react\"\r\n\r\nconst ExtLink = ({ href, title, children }) => (<a href={href} title={title || children} target=\"_blank\" rel=\"noopener noreferrer nofollow\">{children}</a>)\r\n\r\nexport default ExtLink;","import React from 'react';\r\nimport ExtLink from \"./ExtLink\";\r\n\r\nimport { getPlayerRankDisplay } from \"../utils\";\r\nimport { OGS_ROOT, OGS_API_ROOT } from \"../../OGSApi/configs.json\";\r\n\r\nconst PlayerLink = ({ player }) => {\r\n  const href = `${OGS_ROOT}user/view/${player.id}/${player.username}`;\r\n  const img = `${OGS_API_ROOT}${player.id}/icon?size=32`;\r\n  const username = `${player.username} (${getPlayerRankDisplay(player)})`;\r\n\r\n  return (<ExtLink href={href} title={username}><img className=\"img-20\" src={img} alt={username} /> {username}</ExtLink>)\r\n}\r\n\r\nexport default PlayerLink;","import React from 'react';\r\nimport moment from \"moment\";\r\n\r\nimport { OGS_ROOT } from \"../../OGSApi/configs.json\";\r\n\r\nimport ExtLink from \"./ExtLink\";\r\n\r\nconst GameLink = ({ game }) => (<ExtLink href={`${OGS_ROOT}game/${game.related.detail.split(\"games/\")[1]}`}>{moment(game.ended).format(\"MMM D, YYYY\")}</ExtLink>)\r\n\r\nexport default GameLink;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport configs from '../../OGSApi/configs.json';\r\nimport {\r\n  isPlayerWin,\r\n  getPlayerRankDisplay,\r\n  getPlayerRank,\r\n  getPlayerRating,\r\n  extractPlayerAndOpponent,\r\n  extractHistoricalPlayerAndOpponent\r\n} from \"../../Shared/utils\";\r\n\r\nimport PlayerLink from \"../../Shared/Components/PlayerLink\";\r\nimport GameLink from \"../../Shared/Components/GameLink\";\r\n\r\nclass OpponentChart extends Component {\r\n  static propTypes = {\r\n    title: PropTypes.string,\r\n    id: PropTypes.string,\r\n    games: PropTypes.array.isRequired,\r\n    player: PropTypes.object.isRequired\r\n  }\r\n\r\n  computeOpponentsInfo = (games, player) => {\r\n    var opponents = [], numberOfOpponents = 0;\r\n    var weakestOpp = { rank: 70 };\r\n    var strongestOpp = { rank: 0 };\r\n    var mostPlayed = { games: 0 };\r\n    var strongestDefeated = { ratingDiff: -9999 };\r\n\r\n\r\n    for (const game of games) {\r\n      const isWin = isPlayerWin(game, player.id);\r\n\r\n      const { opponent } = extractPlayerAndOpponent(game, player.id);\r\n      const { historicalOpponent, historicalPlayer } = extractHistoricalPlayerAndOpponent(game, player.id);\r\n      const opponentRank = getPlayerRank(opponent);\r\n\r\n      if (isWin) {\r\n        const ratingDiff = getPlayerRating(opponent) - getPlayerRating(player) + getPlayerRating(historicalOpponent) - getPlayerRating(historicalPlayer);\r\n        if (ratingDiff > strongestDefeated.ratingDiff) strongestDefeated = {\r\n          ...opponent,\r\n          ratingDiff,\r\n          game,\r\n        };\r\n      }\r\n\r\n      if (!opponents[opponent.id]) {\r\n        opponents[opponent.id] = 1;\r\n      }\r\n      else {\r\n        opponents[opponent.id]++;\r\n      }\r\n\r\n      if (opponents[opponent.id] > mostPlayed.games) {\r\n        mostPlayed = {\r\n          ...opponent,\r\n          games: opponents[opponent.id]\r\n        };\r\n      }\r\n\r\n      if (opponentRank > strongestOpp.rank)\r\n        strongestOpp = {\r\n          ...opponent,\r\n          rank: opponentRank\r\n        };\r\n\r\n      if (opponentRank < weakestOpp.rank)\r\n        weakestOpp = {\r\n          ...opponent,\r\n          rank: opponentRank\r\n        };\r\n    }\r\n\r\n    numberOfOpponents = 0;\r\n    for (var k in opponents) {\r\n      if (opponents.hasOwnProperty(k)) {\r\n        numberOfOpponents++;\r\n      }\r\n    }\r\n\r\n    return {\r\n      strongestOpp,\r\n      weakestOpp,\r\n      mostPlayed,\r\n      strongestDefeated,\r\n      numberOfOpponents,\r\n      averageGamePerOpponent: (games.length / numberOfOpponents).toFixed(2)\r\n    }\r\n  }\r\n\r\n  generateChartData(games, player) {\r\n    const opponentsInfo = this.computeOpponentsInfo(games, player);\r\n\r\n    // OGS data allow up to 30k but realistically no one's below 25k on OGS. Subtract 5 so 25k is at leftmost\r\n    const weakestBarRate = Math.max(opponentsInfo.weakestOpp.rank, 0) - 5;\r\n    const strongestBarRate = Math.min(opponentsInfo.strongestOpp.rank, 42) - 5;\r\n    const userBarRate = getPlayerRank(this.props.player) - 5;\r\n\r\n    return {\r\n      numberOfOpponents: opponentsInfo.numberOfOpponents,\r\n      weakestDisp: {\r\n        href: `${configs.OGS_ROOT}user/view/${opponentsInfo.weakestOpp.id}/${opponentsInfo.weakestOpp.username}`,\r\n        title: `${opponentsInfo.weakestOpp.username} (${getPlayerRankDisplay(opponentsInfo.weakestOpp)})`,\r\n        style: { left: `${weakestBarRate * 3.03030303}%` },\r\n        img: `${configs.OGS_API_ROOT}${opponentsInfo.weakestOpp.id}/icon?size=32`\r\n      },\r\n      userDisp: {\r\n        href: `${configs.OGS_ROOT}user/view/${this.props.player.id}/${this.props.player.username}`,\r\n        title: `${this.props.player.username} (${getPlayerRankDisplay(this.props.player)})`,\r\n        style: { left: `${userBarRate * 3.03030303}%` },\r\n        img: `${configs.OGS_API_ROOT}${this.props.player.id}/icon?size=32`\r\n      },\r\n      strongestDisp: {\r\n        href: `${configs.OGS_ROOT}user/view/${opponentsInfo.strongestOpp.id}/${opponentsInfo.strongestOpp.username}`,\r\n        title: `${opponentsInfo.strongestOpp.username} (${getPlayerRankDisplay(opponentsInfo.strongestOpp)})`,\r\n        style: { left: `${strongestBarRate * 3.03030303}%` },\r\n        img: `${configs.OGS_API_ROOT}${opponentsInfo.strongestOpp.id}/icon?size=32`\r\n      },\r\n      mostPlayedDisp: opponentsInfo.mostPlayed,\r\n      strongestDefeatedDisp: opponentsInfo.strongestDefeated,\r\n      averageGamePerOpponent: opponentsInfo.averageGamePerOpponent\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { games, player } = this.props;\r\n    const {\r\n      numberOfOpponents,\r\n      weakestDisp,\r\n      userDisp,\r\n      strongestDisp,\r\n      mostPlayedDisp,\r\n      strongestDefeatedDisp,\r\n      averageGamePerOpponent\r\n    } = this.generateChartData(games, player);\r\n\r\n    if (!numberOfOpponents) return <section className=\"stats_block\" />;\r\n\r\n\r\n    return (\r\n      <section className=\"stats_block\">\r\n        <h2 id={this.props.id} className=\"text-center\">{this.props.title}: {numberOfOpponents}</h2>\r\n\r\n        <div className=\"row\">\r\n          <div id=\"opponents_polars_chart\" className=\"opponent_chart col-8 mr-auto ml-auto\">\r\n            <ul className=\"bar_legend\">\r\n              <li style={weakestDisp.style}>\r\n                <div>Weakest Opponent</div><span></span>\r\n              </li>\r\n              <li style={strongestDisp.style}>\r\n                <div>Strongest Opponent</div><span></span>\r\n              </li>\r\n            </ul>\r\n            <div className=\"bar_chart\">\r\n              <a target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n                href={weakestDisp.href}\r\n                data-toggle=\"tooltip\"\r\n                data-placement=\"top\"\r\n                title={weakestDisp.title}\r\n                style={weakestDisp.style}>\r\n                <img src={weakestDisp.img} alt={weakestDisp.title} />\r\n              </a>\r\n              <a target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n                href={userDisp.href}\r\n                data-toggle=\"tooltip\"\r\n                data-placement=\"top\"\r\n                title={userDisp.title}\r\n                style={userDisp.style}>\r\n                <img src={userDisp.img} alt={userDisp.title} />\r\n              </a>\r\n              <a target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n                href={strongestDisp.href}\r\n                data-toggle=\"tooltip\"\r\n                data-placement=\"top\"\r\n                title={strongestDisp.title}\r\n                style={strongestDisp.style}>\r\n                <img src={strongestDisp.img} alt={strongestDisp.title} />\r\n              </a>\r\n            </div>\r\n            <ul className=\"ruler\">\r\n              <li><span></span><div><small><em>25k</em></small></div></li>\r\n              <li><span></span><div><small><em>10k</em></small></div></li>\r\n              <li><span></span><div><small><em>1d</em></small></div></li>\r\n              <li><span></span><div><small><em>9d</em></small></div></li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            <ul className=\"info_list\">\r\n              <li>\r\n                Most played with: <PlayerLink player={mostPlayedDisp} /> in {mostPlayedDisp.games} games.\r\n              </li>\r\n              {\r\n                !!strongestDefeatedDisp.username &&\r\n                <li>Strongest defeated opponent: <PlayerLink player={strongestDefeatedDisp} /> on <GameLink game={strongestDefeatedDisp.game} />.</li>\r\n              }\r\n              <li>Average game per opponent: {averageGamePerOpponent} games.</li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </section >\r\n    );\r\n  }\r\n}\r\n\r\nexport default OpponentChart;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport moment from \"moment\";\r\n\r\nimport {\r\n  isPlayerWin,\r\n  extractPlayerAndOpponent,\r\n  daysDifferenceBetween\r\n} from '../../Shared/utils';\r\n\r\nimport PlayerLink from \"../../Shared/Components/PlayerLink\";\r\nimport GameLink from \"../../Shared/Components/GameLink\";\r\n\r\nclass MiscChart extends Component {\r\n  static propTypes = {\r\n    title: PropTypes.string,\r\n    id: PropTypes.string,\r\n    games: PropTypes.array.isRequired,\r\n    player: PropTypes.object.isRequired\r\n  }\r\n\r\n  state = {\r\n    columnChartOptions: {\r\n      backgroundColor: \"transparent\",\r\n      isStacked: true,\r\n      chartArea: { top: 10 },\r\n      colors: [\"#d93344\", \"#41CD64\", \"#5486d1\", \"#9d4dc5\"],\r\n      legend: {\r\n        maxLines: 2,\r\n        position: \"bottom\",\r\n        textStyle: {\r\n          color: \"#f8f8ff\",\r\n          fontName: \"Roboto\",\r\n          fontSize: 14\r\n        }\r\n      },\r\n      hAxis: { textStyle: { color: \"#f8f8ff\", fontName: \"Roboto\", fontSize: 11 } },\r\n      vAxis: { textStyle: { color: \"#f8f8ff\", fontName: \"Roboto\", fontSize: 11 } }\r\n    }\r\n  }\r\n\r\n  computeMiscInfo = (analyzingGames, player) => {\r\n    let mostActiveDay;\r\n    let currentDay = new Date();\r\n    currentDay.setHours(0, 0, 0, 0);\r\n\r\n    let totalLosses = 0;\r\n\r\n    let longestStreak = { streak: 0 }\r\n    let currentStreak = { streak: 0 }\r\n\r\n    let gamesOnMostActiveDay = 0, gamesOnCurrentDay = 0;\r\n\r\n    let biggestWin = { diff: 0 }\r\n\r\n    for (let game of analyzingGames) {\r\n      const isWin = isPlayerWin(game, player.id);\r\n\r\n      // Longest streak\r\n      if (isWin) {\r\n\r\n        currentStreak.streak++;\r\n        currentStreak.start = game;\r\n\r\n        if (!currentStreak.end) currentStreak.end = game;\r\n\r\n        if (currentStreak.streak > longestStreak.streak) longestStreak = currentStreak;\r\n      }\r\n      else currentStreak = { streak: 0 }\r\n\r\n      // Biggest win\r\n      if (isWin) {\r\n        const { opponent } = extractPlayerAndOpponent(game, player.id);\r\n        if (!isNaN(game.outcome.split(\" \")[0])) {\r\n          const scoreDiff = parseFloat(game.outcome.split(\" \")[0]);\r\n          if (scoreDiff > biggestWin.diff) {\r\n            biggestWin = {\r\n              game: game,\r\n              opponent: opponent,\r\n              diff: scoreDiff\r\n            }\r\n          }\r\n        }\r\n      }\r\n      // Total losses\r\n      else totalLosses++;\r\n\r\n\r\n      // Most active day\r\n      let gameDay = new Date(game.ended);\r\n      gameDay.setHours(0, 0, 0, 0);\r\n      if (daysDifferenceBetween(currentDay, gameDay) !== 0) {\r\n        currentDay = gameDay;\r\n        gamesOnCurrentDay = 1;\r\n      }\r\n      else {\r\n        gamesOnCurrentDay++;\r\n      }\r\n\r\n      if (gamesOnCurrentDay > gamesOnMostActiveDay) {\r\n        mostActiveDay = currentDay;\r\n        gamesOnMostActiveDay = gamesOnCurrentDay;\r\n      }\r\n    }\r\n\r\n    let memberSince = new Date(player.registrationDate);\r\n    // Change memberSince to date of first game for player who migrated from old server\r\n    if (analyzingGames.length) {\r\n      let firstGameDate = new Date(analyzingGames[analyzingGames.length - 1].started);\r\n      if (firstGameDate < memberSince) memberSince = firstGameDate;\r\n    }\r\n\r\n    let gamesPerDay = 0;\r\n    if (analyzingGames.length) {\r\n      let dateOfFirstGame = new Date(analyzingGames[analyzingGames.length - 1].started)\r\n      let daysSinceStart = daysDifferenceBetween(new Date(), dateOfFirstGame);\r\n      gamesPerDay = analyzingGames.length / parseFloat(daysSinceStart);\r\n    }\r\n\r\n    const uniqueTournaments = analyzingGames\r\n      .filter(game => game.tournament !== null)\r\n      .reduce((result, game) => {\r\n        if (result.indexOf(game.tournament) === -1) {\r\n          result.push(game.tournament);\r\n        }\r\n\r\n        return result;\r\n      }, []).length;\r\n\r\n    return {\r\n      memberSince,\r\n      gamesPerDay,\r\n      longestStreak,\r\n      mostActiveDay,\r\n      gamesOnMostActiveDay,\r\n      biggestWin,\r\n      uniqueTournaments,\r\n      totalLosses\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { games, player } = this.props;\r\n    const {\r\n      memberSince,\r\n      gamesPerDay,\r\n      longestStreak,\r\n      mostActiveDay,\r\n      gamesOnMostActiveDay,\r\n      biggestWin,\r\n      totalLosses,\r\n      uniqueTournaments\r\n    } = this.computeMiscInfo(games, player);\r\n\r\n    const streakDurationDisplay = longestStreak.end ? <span>, from <GameLink game={longestStreak.start} /> to <GameLink game={longestStreak.end} /></span> : '';\r\n    const biggestWinDisplay = biggestWin.game && (\r\n      <li>Biggest win: {biggestWin.diff} points victory against <PlayerLink player={biggestWin.opponent} /> on <GameLink game={biggestWin.game} />.</li>\r\n    )\r\n    return (\r\n      <section className=\"stats_block\">\r\n        <h2 id={this.props.id} className=\"text-center\">{this.props.title}</h2>\r\n        <ul className=\"info_list\">\r\n          <li>Member since: {moment(memberSince).format(\"DD MMM, YYYY\")}.</li>\r\n          <li>Plays {Math.round(gamesPerDay * 100) / 100} games per day on average.</li>\r\n          <li>Most active day: {moment(mostActiveDay).format(\"DD MMM, YYYY\")} with {gamesOnMostActiveDay} finished games.</li>\r\n          <li>Played in {uniqueTournaments} different tournaments.</li>\r\n          <li>Longest win streak: {longestStreak.streak} wins in a row{streakDurationDisplay}.</li>\r\n          {biggestWinDisplay}\r\n          {totalLosses >= 50 && (\r\n            <li>Congratulations, <a target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"http://senseis.xmp.net/?page=LoseYourFirst50GamesAsQuicklyAsPossible\">you have lost your first 50 games</a>!</li>\r\n          )}\r\n        </ul>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MiscChart;\r\n","import React, { PureComponent } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Flatpickr from \"react-flatpickr\";\r\nimport \"flatpickr/dist/themes/material_red.css\";\r\nimport { connect } from \"react-redux\";\r\nimport { Collapse, Button } from \"reactstrap\";\r\n\r\nimport {\r\n  applyGameFilters,\r\n  rankedValues,\r\n  tournamentValues,\r\n  boardSizeValues,\r\n  timeSettingsValues,\r\n  colorValues,\r\n  handicapValues,\r\n} from \"../../Redux/Charts/chartActions\";\r\n\r\nconst minDate = new Date(\"Jan 1 2008\").getTime();\r\nconst maxDate = new Date();\r\n\r\nclass ChartFilter extends PureComponent {\r\n  static propTypes = {\r\n    startDate: PropTypes.object.isRequired,\r\n    endDate: PropTypes.object.isRequired,\r\n    limitEndDate: PropTypes.bool.isRequired,\r\n    ranked: PropTypes.array.isRequired,\r\n    tournament: PropTypes.array.isRequired,\r\n    boardSize: PropTypes.array.isRequired,\r\n    timeSettings: PropTypes.array.isRequired,\r\n    handicap: PropTypes.array.isRequired,\r\n    color: PropTypes.array.isRequired,\r\n    filterGames: PropTypes.func.isRequired,\r\n  };\r\n  state = {\r\n    expanded: false,\r\n  };\r\n\r\n  onCheckboxChanged = (event) => {\r\n    const name = event.target.name;\r\n    const value = Array.from(document.querySelectorAll(`input[name='${name}']`))\r\n      .filter((input) => input.checked)\r\n      .map((input) => input.value);\r\n    this.onFilterChanged({\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  onToggleChanged = (event) => {\r\n    const name = event.target.name;\r\n    const value = event.target.checked;\r\n    this.onFilterChanged({\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  onDateChanged = (name, dates) => {\r\n    const date = dates[0];\r\n    this.onFilterChanged({ [name]: date });\r\n  };\r\n\r\n  onFilterChanged = (changes) => {\r\n    const {\r\n      ranked,\r\n      tournament,\r\n      boardSize,\r\n      timeSettings,\r\n      handicap,\r\n      color,\r\n      startDate,\r\n      endDate,\r\n    } = this.props;\r\n\r\n    this.props.filterGames({\r\n      ranked,\r\n      tournament,\r\n      boardSize,\r\n      timeSettings,\r\n      handicap,\r\n      color,\r\n      endDate,\r\n      startDate,\r\n      ...changes,\r\n    });\r\n  };\r\n\r\n  renderCheckBoxItems = (validValues, values, name, subDivideCols = false) =>\r\n    subDivideCols ? (\r\n      <div className=\"form-group col-sm-6 col-lg-4\">\r\n        <div className=\"row\">\r\n          {validValues.map((state, index) => (\r\n            <div className=\"col-5\" key={index}>\r\n              {this.renderCheckbox(values, name, state, index)}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    ) : (\r\n      <div className=\"form-group col-sm-6 col-lg-4\">\r\n        {validValues.map((state, index) =>\r\n          this.renderCheckbox(values, name, state, index)\r\n        )}\r\n      </div>\r\n    );\r\n  renderCheckbox = (values, name, state, index) => (\r\n    <div className=\"form-check\" key={index}>\r\n      <input\r\n        name={name}\r\n        className=\"form-check-input\"\r\n        type=\"checkbox\"\r\n        id={`${name}_${index}`}\r\n        value={state}\r\n        defaultChecked={values.includes(state)}\r\n        onChange={this.onCheckboxChanged}\r\n      />\r\n      <label className=\"form-check-label\" htmlFor={`${name}_${index}`}>\r\n        {state}\r\n      </label>\r\n    </div>\r\n  );\r\n\r\n  render() {\r\n    const {\r\n      ranked,\r\n      tournament,\r\n      boardSize,\r\n      timeSettings,\r\n      handicap,\r\n      color,\r\n    } = this.props;\r\n\r\n    return (\r\n      <>\r\n        <Button\r\n          color=\"secondary\"\r\n          className=\"mb-3\"\r\n          onClick={() => this.setState({ expanded: !this.state.expanded })}\r\n        >\r\n          Filters {this.state.expanded ? \"-\" : \"+\"}\r\n        </Button>\r\n        <Collapse isOpen={this.state.expanded}>\r\n          <form onSubmit={(e) => e.preventDefault()} className=\"row\">\r\n            <div className=\"col-12\">\r\n              <div className=\"row\">\r\n                <div className=\"form-group col-sm-6 col-lg-4\">\r\n                  <label>Analyze games starting from</label>\r\n                  <Flatpickr\r\n                    value={this.props.startDate || \"\"}\r\n                    className=\"form-control flatpickr-input\"\r\n                    name=\"startDate\"\r\n                    onChange={(dates) => this.onDateChanged(\"startDate\", dates)}\r\n                    options={{\r\n                      dateFormat: \"M d, Y\",\r\n                      minDate: this.props.minDate,\r\n                      maxDate: this.props.maxDate,\r\n                      enableTime: false,\r\n                      enableSeconds: false,\r\n                    }}\r\n                  />\r\n                </div>\r\n                <div className=\"form-group col-sm-6 col-lg-4\">\r\n                  <label className=\"form-check\">\r\n                    <input\r\n                      name=\"limitEndDate\"\r\n                      className=\"form-check-input\"\r\n                      type=\"checkbox\"\r\n                      id=\"limit_endDate\"\r\n                      value=\"limitEndDate\"\r\n                      defaultChecked={this.props.limitEndDate}\r\n                      onChange={this.onToggleChanged}\r\n                    />\r\n                    <label\r\n                      className=\"form-check-label\"\r\n                      htmlFor=\"limit_endDate\"\r\n                    >{`limit end date${\r\n                      this.props.limitEndDate ? \" to\" : \"\"\r\n                    }`}</label>\r\n                  </label>\r\n                  {this.props.limitEndDate && (\r\n                    <Flatpickr\r\n                      value={this.props.endDate || \"\"}\r\n                      className=\"form-control flatpickr-input\"\r\n                      name=\"endDate\"\r\n                      onChange={(dates) => this.onDateChanged(\"endDate\", dates)}\r\n                      options={{\r\n                        dateFormat: \"M d, Y\",\r\n                        minDate: this.props.minDate,\r\n                        maxDate: this.props.maxDate,\r\n                        enableTime: false,\r\n                        enableSeconds: false,\r\n                      }}\r\n                    />\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            {this.renderCheckBoxItems(rankedValues.values, ranked, \"ranked\")}\r\n            {this.renderCheckBoxItems(\r\n              boardSizeValues.values,\r\n              boardSize,\r\n              \"boardSize\",\r\n              true\r\n            )}\r\n            {this.renderCheckBoxItems(\r\n              timeSettingsValues.values,\r\n              timeSettings,\r\n              \"timeSettings\"\r\n            )}\r\n            {this.renderCheckBoxItems(\r\n              handicapValues.values,\r\n              handicap,\r\n              \"handicap\"\r\n            )}\r\n            {this.renderCheckBoxItems(colorValues.values, color, \"color\")}\r\n            {this.renderCheckBoxItems(\r\n              tournamentValues.values,\r\n              tournament,\r\n              \"tournament\"\r\n            )}\r\n          </form>\r\n        </Collapse>\r\n      </>\r\n    );\r\n  }\r\n}\r\nconst mapReduxStateToProps = ({ chartsData, games }) => ({\r\n  ...chartsData,\r\n  minDate: games.start || minDate,\r\n  maxDate: games.end || maxDate,\r\n});\r\nconst maxDispatchToProps = (dispatch) => ({\r\n  filterGames: (filters) => dispatch(applyGameFilters(filters)),\r\n});\r\n\r\nexport default connect(mapReduxStateToProps, maxDispatchToProps)(ChartFilter);\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Chart from 'react-google-charts';\r\n\r\nimport configs from '../../OGSApi/configs.json';\r\nimport {\r\n  ratingToKyuDan,\r\n  getPlayerRating,\r\n  isPlayerWin,\r\n  extractHistoricalPlayerAndOpponent\r\n} from \"../../Shared/utils\";\r\n\r\nimport moment from \"moment\";\r\n\r\nclass GameHistoryChart extends Component {\r\n  static propTypes = {\r\n    games: PropTypes.array.isRequired,\r\n    player: PropTypes.object.isRequired,\r\n    insertCurrentRank: PropTypes.bool.isRequired\r\n  }\r\n\r\n  state = {\r\n    scatterPlotChartOptions: {\r\n      backgroundColor: \"transparent\",\r\n      chartArea: { top: 50, left: 50, right: 5 },\r\n      colors: [\"#5486d1\", \"#d93344\", \"#41CD64\", \"#9d4dc5\"],\r\n      legend: {\r\n        position: \"bottom\",\r\n        textStyle: {\r\n          color: \"#f8f8ff\",\r\n          fontName: \"Roboto\",\r\n          fontSize: 14\r\n        }\r\n      },\r\n      series: [\r\n        { type: 'line' },\r\n        { type: 'scatter', pointShape: { type: 'triangle', rotation: 180 } },\r\n        { type: 'scatter', pointShape: { type: 'triangle' } }\r\n      ],\r\n      hAxis: {\r\n        textStyle: { color: \"#f8f8ff\", fontName: \"Roboto\", fontSize: 11 }, gridlines: {\r\n          color: 'transparent'\r\n        }, format: \"MMM ''yy\"\r\n      },\r\n      vAxis: { textStyle: { color: \"#f8f8ff\", fontName: \"Roboto\", fontSize: 11 }, gridlines: { count: 0 } },\r\n      tooltip: {\r\n        isHtml: true, trigger: 'selection'\r\n      }\r\n    }\r\n  }\r\n\r\n  computeGameHistory = (games, player, insertCurrentRank) => {\r\n    let historicalWinloss = [];\r\n\r\n    if (insertCurrentRank || games.length < 2) {\r\n      historicalWinloss.push({\r\n        date: new Date(),\r\n        playerRating: getPlayerRating(player)\r\n      })\r\n    }\r\n\r\n    for (const game of games) {\r\n      const isWin = isPlayerWin(game, player.id);\r\n      const { historicalPlayer, historicalOpponent } = extractHistoricalPlayerAndOpponent(game, player.id);\r\n      historicalWinloss.push(\r\n        {\r\n          isBlack: game.players.black.id === player.id,\r\n          isWin,\r\n          date: new Date(game.ended),\r\n          playerRating: getPlayerRating(historicalPlayer),\r\n          opponentRating: getPlayerRating(historicalOpponent),\r\n          gameId: game.id\r\n        }\r\n      )\r\n    }\r\n    return historicalWinloss;\r\n  }\r\n\r\n  renderChartTooltip = ({ isBlack, isWin, date, playerRating, opponentRating, gameId }) => opponentRating\r\n    ? `<h6><a class=\"${isWin ? 'text-green' : 'text-red'}\" href=\"${configs.OGS_ROOT}game/${gameId}\" target=\"blank\" rel=\"noopener noreferrer nofollow\">${moment(date).format(\"MMM D, YYYY HH:mm\")} - ${isWin ? 'Win' : 'Loss'}</a></h6>\r\n      <div><i class=\"fas fa-circle\" style=\"${isBlack ? 'color: #000000;' : 'color: #ffffff;'}\"></i> Player rating: ${Math.round(playerRating)} (${ratingToKyuDan(playerRating)})</div>\r\n      <div><i class=\"fas fa-circle\" style=\"${isBlack ? 'color: #ffffff;' : 'color: #000000;'}\"></i> Opponent rating: ${Math.round(opponentRating)} (${ratingToKyuDan(opponentRating)})</div>`\r\n    : `<h6>Currently</h6>\r\n      <div>Player rating: ${Math.round(playerRating)} (${ratingToKyuDan(playerRating)})</div>`\r\n\r\n  render() {\r\n    const {\r\n      games, player, insertCurrentRank\r\n    } = this.props;\r\n\r\n    const historicalWinloss = this.computeGameHistory(games, player, insertCurrentRank);\r\n\r\n    const chartData = [\r\n      [\r\n        'Date',\r\n        { type: 'number', label: 'Player Rating' },\r\n        { 'type': 'string', 'role': 'tooltip', 'p': { 'html': true } },\r\n        { type: 'number', label: 'Opponent Rating (Loss)' },\r\n        { 'type': 'string', 'role': 'tooltip', 'p': { 'html': true } },\r\n        { type: 'number', label: 'Opponent Rating (Win)' },\r\n        { 'type': 'string', 'role': 'tooltip', 'p': { 'html': true } },\r\n      ],\r\n      ...(\r\n        historicalWinloss.map(\r\n          item => [\r\n            item.date,\r\n            item.playerRating,\r\n            this.renderChartTooltip(item),\r\n            item.isWin ? null : item.opponentRating,\r\n            this.renderChartTooltip(item),\r\n            item.isWin ? item.opponentRating : null,\r\n            this.renderChartTooltip(item),\r\n          ]\r\n        )\r\n      )\r\n    ]\r\n\r\n    return (<Chart\r\n      chartType=\"ComboChart\"\r\n      data={chartData}\r\n      options={this.state.scatterPlotChartOptions}\r\n      width={'100%'}\r\n      height={'400px'}\r\n    />\r\n    );\r\n  }\r\n}\r\n\r\nexport default GameHistoryChart;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport WinLoseChart from \"./WinLoseChart\";\r\nimport ResultDistributionChart from \"./ResultDistributionChart\";\r\nimport BoardSizesChart from \"./BoardSizesChart\";\r\nimport TimeSettingsChart from \"./TimeSettingsChart\";\r\nimport OpponentChart from \"./OpponentChart\";\r\nimport MiscChart from \"./MiscChart\";\r\nimport ChartFilter from \"../GameFilters/ChartFilter\";\r\nimport GameHistoryChart from \"./GameHistoryChart\";\r\n\r\nclass ChartList extends Component {\r\n  static propTypes = {\r\n    games: PropTypes.object.isRequired,\r\n    chartsData: PropTypes.object.isRequired,\r\n    player: PropTypes.object.isRequired,\r\n  };\r\n\r\n  render() {\r\n    const { player, chartsData, games } = this.props;\r\n\r\n    const filteredGamesData = chartsData.results;\r\n    const allGamesData = games.results;\r\n\r\n    return (\r\n      <div>\r\n        <ChartFilter />\r\n\r\n        <hr />\r\n        <h2 id=\"total_games_stats\" className=\"text-center\">\r\n          {`${filteredGamesData.length} of ${allGamesData.length} games match the filters`}\r\n        </h2>\r\n\r\n        {filteredGamesData.length > 0 && (\r\n          <div>\r\n            <GameHistoryChart\r\n              games={filteredGamesData}\r\n              player={player}\r\n              insertCurrentRank={!chartsData.limitEndDate}\r\n            />\r\n\r\n            <WinLoseChart games={filteredGamesData} player={player} />\r\n\r\n            <ResultDistributionChart\r\n              title={`Game results distribution`}\r\n              id={\"game_results\"}\r\n              games={filteredGamesData}\r\n              player={player}\r\n            />\r\n            {chartsData.boardSize.length > 1 && (\r\n              <BoardSizesChart\r\n                title={`Performance across board sizes`}\r\n                id={\"board_sizes_stats\"}\r\n                games={filteredGamesData}\r\n                player={player}\r\n              />\r\n            )}\r\n            {chartsData.timeSettings.length > 1 && (\r\n              <TimeSettingsChart\r\n                title={`Performance across time settings`}\r\n                id={\"time_settings_stats\"}\r\n                games={filteredGamesData}\r\n                player={player}\r\n              />\r\n            )}\r\n            <OpponentChart\r\n              title={`Unique opponents faced`}\r\n              id={\"opponents_stats\"}\r\n              games={filteredGamesData}\r\n              player={player}\r\n            />\r\n            <MiscChart\r\n              title={`Miscellaneous`}\r\n              id={\"misc_stats\"}\r\n              games={filteredGamesData}\r\n              player={player}\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapReduxStateToProps = ({ chartsData, games, player }) => ({\r\n  chartsData,\r\n  games,\r\n  player,\r\n});\r\n\r\nexport default connect(mapReduxStateToProps)(ChartList);\r\n","import React from 'react';\r\n\r\nconst Footer = () => (\r\n  <footer className=\"footer\">\r\n    <div className=\"container\">\r\n      <div className=\"row\">\r\n        <div className=\"col-sm-8\">\r\n          <p><em>\"Got Stats?\" analytics tool for <a target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"https://www.online-go.com\">OGS</a> by Chinitsu (aka AVAVT).</em></p>\r\n          <p><em>The source code is also available on <a href=\"https://github.com/AVAVT/gotstats\" target=\"_blank\" rel=\"noopener noreferrer nofollow\">Github</a>.</em></p>\r\n        </div>\r\n        <div className=\"col-sm-4 text-right\">\r\n          <a href=\"http://avavt.github.io\" target=\"_blank\" rel=\"noopener noreferrer\">About the author</a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </footer>\r\n)\r\n\r\nexport default Footer;","import React, { Component } from \"react\";\r\nimport Header from \"./Header/Header\";\r\nimport Welcome from \"./Welcome\";\r\nimport SideBar from \"./SideBar/SideBar\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { fetchPlayer } from \"../Redux/Player/playerActions\";\r\nimport LoadingUser from \"./LoadingUser/LoadingUser\";\r\nimport ChartList from \"./Charts/ChartList\";\r\nimport Footer from \"./Footer/Footer\";\r\n\r\nclass Statistics extends Component {\r\n  static propTypes = {\r\n    getPlayerData: PropTypes.func.isRequired,\r\n    player: PropTypes.object.isRequired,\r\n    user: PropTypes.string,\r\n    showLoading: PropTypes.bool.isRequired,\r\n    showStatistics: PropTypes.bool.isRequired,\r\n  };\r\n\r\n  scrollToElem(id) {\r\n    document.getElementById(id).scrollIntoView();\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.user) {\r\n      this.props.getPlayerData(this.props.user);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <main className=\"App\">\r\n        <Header />\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <SideBar scrollToElem={this.scrollToElem} />\r\n            <div className=\"col-lg-9 order-md-1 col-md-8 content-wrapper\">\r\n              {this.props.showStatistics ? (\r\n                <ChartList />\r\n              ) : this.props.showLoading ? (\r\n                <LoadingUser />\r\n              ) : (\r\n                <Welcome />\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <Footer />\r\n      </main>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapReduxStateToProps = ({ player, games }) => ({\r\n  player,\r\n  showLoading:\r\n    !!player.fetching ||\r\n    !!player.fetchError ||\r\n    !!games.fetching ||\r\n    !!games.fetchError,\r\n  showStatistics: player.id > -1 && games.results.length > 0,\r\n});\r\n\r\nconst mapReduxDispatchToProps = (dispatch) => ({\r\n  getPlayerData: (player) => dispatch(fetchPlayer(player)),\r\n});\r\n\r\nexport default connect(\r\n  mapReduxStateToProps,\r\n  mapReduxDispatchToProps\r\n)(Statistics);\r\n","import React from 'react';\r\nimport { Provider as ReduxProvider } from \"react-redux\";\r\nimport Statistics from './WebApp/Statistics';\r\nimport { HashRouter as Router, Route } from \"react-router-dom\";\r\n\r\nconst App = ({ reduxStore }) => (\r\n  <ReduxProvider store={reduxStore}>\r\n    <Router>\r\n      <Route path=\"/user/:user\" component={({ match }) => (<Statistics user={match.params.user} />)} />\r\n      <Route exact path=\"/\" component={Statistics} />\r\n    </Router>\r\n  </ReduxProvider>\r\n);\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import { FETCH_PLAYER } from './playerActions';\r\n\r\nimport { REQUEST, SUCCESS, FAILURE } from '../promiseUtils';\r\n\r\nconst initialState = {\r\n  id: -1,\r\n  username: \"\",\r\n  ratings: {\r\n    overall: {\r\n      rating: 0\r\n    }\r\n  },\r\n  rank: 0,\r\n  fetching: null,\r\n  fetchError: \"\",\r\n  registrationDate: null\r\n}\r\n\r\nconst reducer = (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case REQUEST(FETCH_PLAYER): return {\r\n      ...initialState,\r\n      fetching: payload,\r\n      fetchError: \"\"\r\n    }\r\n\r\n    case SUCCESS(FETCH_PLAYER): return {\r\n      ...state,\r\n      fetching: null,\r\n      ...payload\r\n    }\r\n\r\n    case FAILURE(FETCH_PLAYER): return {\r\n      ...state,\r\n      fetching: null,\r\n      fetchError: payload.error\r\n    }\r\n\r\n    default: return state;\r\n  }\r\n}\r\n\r\nexport default reducer;","import { FETCH_GAMES, CANCEL_QUERY } from \"./gameActions\";\r\n\r\nimport { REQUEST, SUCCESS, FAILURE, PROGRESS } from \"../promiseUtils\";\r\n\r\nimport { FETCH_PLAYER } from \"../Player/playerActions\";\r\n\r\nimport { minDate, maxDate } from \"../../Shared/constants\";\r\n\r\nconst initialState = {\r\n  results: [],\r\n  canceled: false,\r\n  fetching: null,\r\n  fetchingPage: 0,\r\n  fetchingTotalPage: 0,\r\n  fetchError: \"\",\r\n  start: minDate,\r\n  end: maxDate,\r\n};\r\n\r\nconst reducer = (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case REQUEST(FETCH_PLAYER):\r\n      return {\r\n        ...initialState,\r\n        fetching: state.fetching,\r\n      };\r\n\r\n    case REQUEST(FETCH_GAMES):\r\n      return {\r\n        ...state,\r\n        fetching: payload,\r\n        fetchingPage: 0,\r\n        fetchingTotalPage: 0,\r\n        fetchError: \"\",\r\n        results: [],\r\n        start: minDate,\r\n        end: maxDate,\r\n      };\r\n\r\n    case PROGRESS(FETCH_GAMES):\r\n      return {\r\n        ...state,\r\n        ...payload,\r\n      };\r\n\r\n    case SUCCESS(FETCH_GAMES):\r\n      return {\r\n        ...state,\r\n        fetching: null,\r\n        ...payload,\r\n      };\r\n\r\n    case FAILURE(FETCH_GAMES):\r\n      return {\r\n        ...state,\r\n        fetching: null,\r\n        fetchError: payload.error,\r\n      };\r\n    case CANCEL_QUERY:\r\n      return {\r\n        ...state,\r\n        canceled: true,\r\n        fetching: null,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import { UPDATE_CHART_DATA_SOURCE } from \"./chartActions\";\r\nimport { FETCH_GAMES } from \"../Games/gameActions\";\r\nimport { FETCH_PLAYER } from \"../Player/playerActions\";\r\n\r\nimport { REQUEST, SUCCESS } from \"../promiseUtils\";\r\n\r\nimport {\r\n  rankedValues,\r\n  tournamentValues,\r\n  boardSizeValues,\r\n  timeSettingsValues,\r\n  colorValues,\r\n  handicapValues,\r\n} from \"./chartActions\";\r\n\r\nimport { minDate, maxDate } from \"../../Shared/constants\";\r\n\r\nconst initialState = {\r\n  startDate: minDate,\r\n  endDate: maxDate,\r\n  ranked: rankedValues.values,\r\n  tournament: tournamentValues.values,\r\n  boardSize: boardSizeValues.values,\r\n  timeSettings: timeSettingsValues.values,\r\n  handicap: handicapValues.values,\r\n  color: colorValues.values,\r\n  limitEndDate: false,\r\n  results: [],\r\n};\r\n\r\nconst reducer = (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case UPDATE_CHART_DATA_SOURCE:\r\n      return {\r\n        ...state,\r\n        ...payload,\r\n      };\r\n\r\n    case REQUEST(FETCH_GAMES):\r\n    case REQUEST(FETCH_PLAYER):\r\n      return {\r\n        ...initialState,\r\n      };\r\n\r\n    case SUCCESS(FETCH_GAMES):\r\n      return {\r\n        ...state,\r\n        startDate: payload.start,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import axios from 'axios';\r\nimport configs from './configs.json';\r\nimport CancelablePromise from 'cancelable-promise';\r\n\r\nconst OGSApi = {\r\n  fetchUserId: (user) => {\r\n    return new CancelablePromise((resolve, reject) => {\r\n      if (isNaN(user)) { // Entered username\r\n        axios.get(`${configs.OGS_API_ROOT}?username=${user}`)\r\n          .then(res => res.data)\r\n          .then(function (data) {\r\n            if (data.results.length > 0) {\r\n              resolve(data.results[0].id);\r\n            }\r\n            else {\r\n              reject(\"Error: user not found. Are you sure you entered the correct username? If it still doesn't work, try using userID instead.\");\r\n            }\r\n          })\r\n          .catch(function (err) {\r\n            reject(`Error connecting to OGS server. Error code: ${err.status}. Please try again later or contact me if you really have the need to stalk that person.`);\r\n          });\r\n      }\r\n      else {  // Entered user id\r\n        resolve(user);\r\n      }\r\n    });\r\n  },\r\n\r\n  fetchUserDataById: (id) => {\r\n    return new CancelablePromise((resolve, reject) => {\r\n      axios.get(`${configs.OGS_API_ROOT}${id}`)\r\n        .then(res => res.data)\r\n        .then(function (data) {\r\n          resolve(data);\r\n        })\r\n        .catch(function (err) {\r\n          reject(`Error connecting to OGS server. Error code: ${err.status}. Please try again later or contact me if you really have the need to stalk that person.`);\r\n        });\r\n    });\r\n  },\r\n\r\n  fetchGamePage: (playerId, url) => {\r\n    if (url === undefined) url = `${configs.OGS_API_ROOT}${playerId}/games/?ended__isnull=false&annulled=false&ordering=-ended&page_size=50`;\r\n\r\n    return new CancelablePromise((resolve, reject) => {\r\n      axios.get(url)\r\n        .then(res => res.data)\r\n        .then(function (data) {\r\n          resolve(data);\r\n        })\r\n        .catch(function (err) {\r\n          reject(err);\r\n        });\r\n    });\r\n  }\r\n}\r\n\r\nexport default OGSApi;","import OGSApi from '../OGSApi/OGSApi';\r\n\r\nexport const OVERRIDE_API = \"OVERRIDE_API\";\r\n\r\nconst reducer = (state = OGSApi, { type, payload }) => type === OVERRIDE_API ? payload : state;\r\n\r\nexport default reducer;","import { combineReducers } from \"redux\";\r\nimport playerReducer from \"./Player/playerReducer\";\r\nimport gamesReducer from \"./Games/gameReducer\";\r\nimport chartReducers from \"./Charts/chartDataReducer\";\r\nimport APIReducer from \"./APIReducer\";\r\n\r\nexport default combineReducers({\r\n  OGSApi: APIReducer,\r\n  player: playerReducer,\r\n  games: gamesReducer,\r\n  chartsData: chartReducers\r\n});\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport './index.scss';\r\n\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { createReduxStore } from './Redux/store';\r\n\r\nconst reduxStore = createReduxStore();\r\n\r\nReactDOM.render(\r\n  <App reduxStore={reduxStore} />,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","import { composeWithDevTools as composeWithReduxDevTools } from \"redux-devtools-extension\";\r\nimport reduxThunk from \"redux-thunk\";\r\nimport { createStore, applyMiddleware } from \"redux\";\r\n\r\nimport reducers from \"./reducers\";\r\n\r\nexport const createReduxStore = () => {\r\n  return createStore(\r\n    reducers,\r\n    composeWithReduxDevTools(\r\n      applyMiddleware(reduxThunk)\r\n    )\r\n  );\r\n}"],"sourceRoot":""}