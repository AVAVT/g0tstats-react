(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{111:function(e,t,a){},115:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(27),s=a.n(o),l=(a(59),a(60),a(10)),c=a(1),i=a(2),m=a(4),u=a(3),p=a(5),h=a(47),d=function(e){return e<30?30-e+"k":e-29+"d"},f=function(e){try{var t=e.ratings.overall.rating;return Math.floor(Math.log(t/850)/.032)}catch(a){return e.ranking}},g=function(e){return e.ratings.overall.rating},E=function(e){return d(f(e))},v=function(e){var t=Math.floor(Math.log(e/850)/.032);return d(t)},y=function(e,t){return e.players.black.id===t&&e.white_lost||e.players.white.id===t&&e.black_lost},b=function(e,t){return e.players.black.id===t?{player:e.players.black,opponent:e.players.white}:{player:e.players.white,opponent:e.players.black}},O=function(e,t){return e.players.black.id===t?{historicalPlayer:e.historical_ratings.black,historicalOpponent:e.historical_ratings.white}:{historicalPlayer:e.historical_ratings.white,historicalOpponent:e.historical_ratings.black}},k=function(e,t){var a=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),r=(a.getTime()-n.getTime())/864e5;return a>n?Math.floor(r):Math.ceil(r)},C=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.player.username?"statistics for player ".concat(this.props.player.username," (").concat(E(this.props.player),")"):"statistics",t="".concat(this.props.player.username&&"".concat(this.props.player.username," statistics | "),"Got Stats?");return r.a.createElement("nav",{className:"navbar navbar-dark Header justify-content-start"},r.a.createElement(h.Helmet,null,r.a.createElement("title",null,t)),r.a.createElement("a",{href:"".concat("/gotstats","/"),className:"navbar-brand"},r.a.createElement("img",{className:"OGS_logo d-inline-block align-top",src:"https://cdn.online-go.com/assets/ogs_dark.svg",alt:"OGS logo"})),r.a.createElement("h1",{className:"page_title"},e))}}]),t}(n.Component),S=Object(l.b)(function(e){return{player:e.player}})(C),D=function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Welcome!"),r.a.createElement("p",{className:"instruction"},"Start by entering username into the search field to the right (case-sensitive)."),r.a.createElement("p",null,"You can also use userID: my profile page is ",r.a.createElement("em",null,"https://online-go.com/user/view/197819"),", meaning my user ID is 197819."))},w=a(19),x=a(48),N=a(18),_=a.n(N),T=a(24),P=a(30),j=a.n(P),R=a(9),G=a(31),A=a.n(G),L=function(e){return new A.a(function(t,a){isNaN(e)?j.a.get("".concat(R.OGS_API_ROOT,"?username=").concat(e)).then(function(e){return e.data}).then(function(e){e.results.length>0?t(e.results[0].id):a("Error: user not found. Are you sure you entered the correct username? If it still doesn't work, try using userID instead.")}).catch(function(e){a("Error connecting to OGS server. Error code: ".concat(e.status,". Please try again later or contact me if you really have the need to stalk that person."))}):t(e)})},M=function(e){return new A.a(function(t,a){j.a.get("".concat(R.OGS_API_ROOT).concat(e)).then(function(e){return e.data}).then(function(e){t(e)}).catch(function(e){a("Error connecting to OGS server. Error code: ".concat(e.status,". Please try again later or contact me if you really have the need to stalk that person."))})})},z=function(e,t){return void 0===t&&(t="".concat(R.OGS_API_ROOT).concat(e,"/games/?ended__isnull=false&annulled=false&ordering=-ended&page_size=50")),new A.a(function(e,a){j.a.get(t).then(function(e){return e.data}).then(function(t){e(t)}).catch(function(e){a(e)})})},W=a(25),F=a(7),I={Ranked:"Ranked",Unranked:"Unranked",values:["Ranked","Unranked"]},H={Tournament:"Tournament",NonTournament:"Non-tournament",values:["Tournament","Non-tournament"]},Y={Nineteens:"19x19",Thirteens:"13x13",Nines:"9x9",Others:"Others",values:["19x19","13x13","9x9","Others"]},B={Blitz:"Blitz",Live:"Live",Correspondence:"Correspondence",values:["Blitz","Live","Correspondence"]},U={Black:"Play as Black",White:"Play as White",values:["Play as Black","Play as White"]},J={Even:"Even game",Taker:"Handicap taker",Giver:"Handicap giver",values:["Even game","Handicap taker","Handicap giver"]},V=new Date(-864e13),q=new Date,Q=function(e){return function(t,a){var n=a().player.id,r=a().games.end,o=a().chartsData,s=o.startDate,l=o.endDate,c=o.ranked,i=o.tournament,m=o.boardSize,u=o.timeSettings,p=o.handicap,h=o.color,d=o.limitEndDate,f=e&&e.hasOwnProperty("limitEndDate")?e.limitEndDate:d,g=e&&e.hasOwnProperty("endDate")?e.endDate:l,E=f?g<r?g:r:q,v=Object(F.a)({startDate:s,ranked:c,tournament:i,boardSize:m,timeSettings:u,handicap:p,color:h,playerId:n,limitEndDate:d},e,{endDate:E}),y=$(v);t(ne(Object(F.a)({},v,{results:a().games.results.filter(y)})))}},$=function(e){var t=e.startDate,a=e.endDate,n=e.ranked,r=e.tournament,o=e.boardSize,s=e.timeSettings,l=e.handicap,c=e.color,i=e.playerId;return function(e,m){var u=new Date(e.ended);return!(u<t||u>a)&&(K(e,n)&&X(e,r)&&Z(e,o)&&ee(e,s)&&te(e,l,i)&&ae(e,c,i))}},K=function(e,t){return!(e.ranked&&!t.includes(I.Ranked))&&!(!e.ranked&&!t.includes(I.Unranked))},X=function(e,t){var a=null!==e.tournament;return!(a&&!t.includes(H.Tournament))&&!(!a&&!t.includes(H.NonTournament))},Z=function(e,t){var a=function(e){return 19===e.width&&19===e.height?"19x19":13===e.width&&13===e.height?"13x13":9===e.width&&9===e.height?"9x9":"Others"}(e);return t.includes(a)},ee=function(e,t){var a=function(e){return e.time_per_move<20?"Blitz":e.time_per_move>10800?"Correspondence":"Live"}(e);return t.includes(a)},te=function(e,t,a){var n=function(e,t){return 0===e.handicap?"Even game":e.players.black.id===t?"Handicap taker":"Handicap giver"}(e,a);return t.includes(n)},ae=function(e,t,a){return!(e.players.black.id===a&&!t.includes(U.Black))&&!(e.players.white.id===a&&!t.includes(U.White))},ne=function(e){return{type:"UPDATE_CHART_DATA_SOURCE",payload:e}},re=new Date(-864e13),oe=new Date(864e13),se=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(){var a=Object(T.a)(_.a.mark(function a(n,r){var o,s,l,c,i,m,u,p,h,d,f,g,E,v,y;return _.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:(o=r().games.fetching)&&o.cancel(),s=t.length>0?t[0].id:null,a.prev=3,l=[],c=0,m=0,u=!0;case 8:return p=z(e,i?i.next:void 0),n(0===c?le(p):ce({promise:p,fetchingPage:c,fetchingTotalPage:m})),a.next=12,p;case 12:i=a.sent,h=!0,d=!1,f=void 0,a.prev=16,g=i.results[Symbol.iterator]();case 18:if(h=(E=g.next()).done){a.next=30;break}if((v=E.value).id===s){a.next=24;break}l.push(v),a.next=27;break;case 24:return u=!1,l=[].concat(Object(W.a)(l),Object(W.a)(t)),a.abrupt("break",30);case 27:h=!0,a.next=18;break;case 30:a.next=36;break;case 32:a.prev=32,a.t0=a.catch(16),d=!0,f=a.t0;case 36:a.prev=36,a.prev=37,h||null==g.return||g.return();case 39:if(a.prev=39,!d){a.next=42;break}throw f;case 42:return a.finish(39);case 43:return a.finish(36);case 44:c++,m=Math.ceil(i.count/50);case 46:if(i.next&&u){a.next=8;break}case 47:(y=l.length?new Date(l[l.length-1].ended):re).setHours(0,0,0,0),n(ie({results:l,start:y,end:l.length?new Date(l[0].ended):oe})),a.next=56;break;case 52:a.prev=52,a.t1=a.catch(3),console.error(a.t1),"string"===typeof a.t1?n(me(a.t1)):n(me("An error has occured while fetching user games. Please try again later."));case 56:n(Q());case 57:case"end":return a.stop()}},a,null,[[3,52],[16,32,36,44],[37,,39,43]])}));return function(e,t){return a.apply(this,arguments)}}()},le=function(e){return{type:"FETCH_GAMES_START",payload:e}},ce=function(e){return{type:"FETCH_GAMES_PROGRESS",payload:{fetching:e.promise,fetchingPage:e.fetchingPage,fetchingTotalPage:e.fetchingTotalPage}}},ie=function(e){return{type:"FETCH_GAMES_SUCCESS",payload:e}},me=function(e){return{type:"FETCH_GAMES_FAILURE",payload:{error:e}}},ue=function(e){return function(){var t=Object(T.a)(_.a.mark(function t(a,n){var r,o,s,l,c;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(r=n().player.fetching)&&r.cancel(),t.prev=2,o=L(e),a(pe(o)),t.next=7,o;case 7:return s=t.sent,l=M(s),a(pe(l)),t.next=12,l;case 12:c=t.sent,a(se(c.id)),a(he({id:c.id,username:c.username,rank:parseInt(c.ranking),ratings:c.ratings,registrationDate:c.registration_date})),t.next=21;break;case 17:t.prev=17,t.t0=t.catch(2),console.error(t.t0),"string"===typeof t.t0?a(de(t.t0)):a(de("An error has occured while fetching user info. Please try again later."));case 21:case"end":return t.stop()}},t,null,[[2,17]])}));return function(e,a){return t.apply(this,arguments)}}()},pe=function(e){return{type:"FETCH_PLAYER_START",payload:e}},he=function(e){return{type:"FETCH_PLAYER_SUCCESS",payload:e}},de=function(e){return{type:"FETCH_PLAYER_FAILURE",payload:{error:e}}},fe=0,ge=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:""},a.updateSearchUser=function(e){a.setState({username:e.target.value})},a.submit=function(e){e.preventDefault(),a.state.username&&(a.props.history.push("/user/".concat(a.state.username)),a.props.getPlayerData(a.state.username),a.setState({username:""}),document.activeElement&&document.activeElement.blur())},a.downloadJSON=function(){var e=a.props.player,t=e.id,n=e.username,r=e.ratings,o=e.rank,s=e.registrationDate,l=a.props.games,c=l.start,i=l.end,m=l.results,u=JSON.stringify({exporterVersion:fe,player:{id:t,username:n,ratings:r,rank:o,registrationDate:s},games:{start:c,end:i,results:m}}),p=new Blob([u],{type:"text/json;charset=utf-8"});Object(x.saveAs)(p,"gotstats_".concat(n,".json")),window.alert("Player data file exported.\nYou can use it for quick import in the future.")},a.readFile=function(e){var t=e.target.files[0],n=new FileReader;n.onload=function(e){a.readImportedJSON(e.target.result)},n.readAsText(t)},a.readImportedJSON=function(e){var t=JSON.parse(e);a.props.history.push("/user/".concat(t.player.username)),a.props.importPlayerData(t)},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.submit},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{value:this.state.username,onChange:this.updateSearchUser,name:"id",type:"text",placeholder:"Username or ID",className:"form-control"}),r.a.createElement("span",{className:"input-group-btn"},r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Got Stats?")))),r.a.createElement("p",{className:"text-center"},r.a.createElement("small",{className:"tip help-block"},r.a.createElement("em",null,"-- or --"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("p",{className:"d-flex justify-content-between"},r.a.createElement("input",{type:"file",onChange:this.readFile,id:"file_input",style:{display:"none"}}),r.a.createElement("button",{className:"btn btn-secondary",onClick:function(){return document.getElementById("file_input").click()}},"Import Data"),this.props.games.results.length>0&&r.a.createElement("button",{className:"btn btn-secondary",onClick:this.downloadJSON},"Export Data"))))}}]),t}(n.Component),Ee=Object(w.d)(Object(l.b)(function(e){return{player:e.player,games:e.games}},function(e){return{importPlayerData:function(t){return e(function(e){var t=e.player,a=e.games;return function(e,n){var r=n().player.fetching;r&&r.cancel(),e(he(t)),e(se(t.id,a.results))}}(t))},getPlayerData:function(t){return e(ue(t))}}})(ge)),ve=a(50),ye=a.n(ve),be=[["total_games_stats","Win/Loss ratio"],["game_results","Game results distribution"],["board_sizes_stats","Performance across board sizes"],["time_settings_stats","Performance across time settings"],["opponents_stats","Opponents statistics"],["misc_stats","Miscellaneous information"]],Oe=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).onLinkClicked=function(e,t){e.preventDefault(),a.props.scrollToElem(t)},a.renderLink=function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("a",{href:"#".concat(e[0]),onClick:function(t){return a.onLinkClicked(t,e[0])}},e[1]))},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(ye.a,{className:"navi_list",items:be.map(function(e){return e[0]}),currentClassName:"active"},be.map(this.renderLink))}}]),t}(n.Component),ke=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.showQuickLinks?r.a.createElement("div",{className:"navi d-none d-md-block"},r.a.createElement("hr",null),r.a.createElement("small",{className:"tip help-block"},r.a.createElement("em",null,"*Mouse over/tap on a chart to see more info.")),r.a.createElement(Oe,{scrollToElem:this.props.scrollToElem})):null;return r.a.createElement("div",{className:"col-lg-3 col-md-4 order-md-2 sidebar"},r.a.createElement("nav",{className:"side_nav sticky-top"},r.a.createElement(Ee,null),e,r.a.createElement("hr",null),r.a.createElement("a",{href:"https://forums.online-go.com/t/g0tstats-is-back-with-more-stats/6524",target:"_blank",rel:"noopener noreferrer nofollow"},"Support thread on OGS forum")))}}]),t}(n.Component),Ce=Object(l.b)(function(e){return{showQuickLinks:e.chartsData.results.length>0}})(ke),Se=(a(111),function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isFetchingPlayer,a=e.errorMessage,n=e.currentPage,o=e.totalPages,s=o?" of ".concat(o):"",l=t?"Fetching user info from OGS":"Fetching games result from OGS: page ".concat(n+1).concat(s);return r.a.createElement("div",{className:"loading_wrapper"},r.a.createElement("svg",{className:"loading_icon animating",width:"150",height:"150"},r.a.createElement("circle",{className:"black_stone3",cx:"71.5",cy:"28.5",r:"19.5",strokeWidth:"0",fill:"#000000"}),r.a.createElement("circle",{className:"black_stone2",cx:"28.5",cy:"71.5",r:"19.5",strokeWidth:"0",fill:"#000000"}),r.a.createElement("circle",{className:"black_stone1",cx:"114.5",cy:"71.5",r:"19.5",strokeWidth:"0",fill:"#000000"}),r.a.createElement("circle",{className:"black_stone4",cx:"71.5",cy:"114.5",r:"19.5",strokeWidth:"0",fill:"#000000"}),r.a.createElement("circle",{className:"white_stone",cx:"71.5",cy:"71.5",r:"20",strokeWidth:"0",fill:"#f8f8ff"})),r.a.createElement("p",{className:"loading_text"},a||l))}}]),t}(n.Component)),De=Object(l.b)(function(e){var t=e.player,a=e.games;return{isFetchingPlayer:t.fetching,currentPage:a.fetchingPage,totalPages:a.fetchingTotalPage,errorMessage:t.fetchError||a.fetchError}})(Se),we=a(8),xe=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={mainChartOptions:{backgroundColor:"transparent",chartArea:{top:60},colors:["#000000","#f8f8ff"],pieSliceTextStyle:{color:"#d93344"},legend:{position:"bottom",textStyle:{color:"#f8f8ff",fontName:"Roboto",fontSize:14}},animation:{startup:!0,easing:"inout",duration:500}},subChartOptions:{backgroundColor:"transparent",chartArea:{top:10},colors:["#d93344","#41CD64","#5486d1","#9d4dc5"],pieSliceTextStyle:{color:"#ffffff"},legend:{maxLines:2,position:"bottom",textStyle:{color:"#f8f8ff",fontName:"Roboto",fontSize:14}},animation:{startup:!0,easing:"inout",duration:500}}},a.computeWinLoseStatistics=function(e,t){var a=0,n=0,r=0,o=0,s=!0,l=!1,c=void 0;try{for(var i,m=e[Symbol.iterator]();!(s=(i=m.next()).done);s=!0){var u=i.value;u.players.black.id===t?(a++,u.black_lost&&r++):(n++,u.white_lost&&o++)}}catch(p){l=!0,c=p}finally{try{s||null==m.return||m.return()}finally{if(l)throw c}}return{blackGames:a,blackLosses:r,whiteGames:n,whiteLosses:o}},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.games,a=e.player,n=this.computeWinLoseStatistics(t,a.id),o=[["Color","Games"],["Black",n.blackGames],["White",n.whiteGames]],s=[["Result","Games"],["Losses",n.blackLosses+n.whiteLosses],["Wins",n.blackGames+n.whiteGames-(n.blackLosses+n.whiteLosses)]],l=n.blackGames>0?[["Result","Games"],["Losses",n.blackLosses],["Wins",n.blackGames-n.blackLosses]]:null,c=n.whiteGames>0?[["Result","Games"],["Losses",n.whiteLosses],["Wins",n.whiteGames-n.whiteLosses]]:null;return r.a.createElement("section",{className:"stats_block"},r.a.createElement("h2",{id:this.props.id,className:"text-center"},this.props.title),r.a.createElement("div",{className:"row"},o?r.a.createElement("div",{className:"col-sm-6 mr-auto ml-auto"},r.a.createElement(we.a,{chartType:"PieChart",options:this.state.mainChartOptions,data:o,width:"100%",height:"400px"})):null),r.a.createElement("h3",{className:"text-center"},"Win/Loss ratio"),r.a.createElement("div",{className:"row"},s?r.a.createElement("div",{className:"col-md-4"},r.a.createElement("h5",{className:"text-center"},"Total"),r.a.createElement(we.a,{chartType:"PieChart",options:this.state.subChartOptions,data:s,width:"100%",height:"250px"})):null,l?r.a.createElement("div",{className:"col-md-4"},r.a.createElement("h5",{className:"text-center"},"As Black"),r.a.createElement(we.a,{chartType:"PieChart",options:this.state.subChartOptions,data:l,width:"100%",height:"250px"})):null,c?r.a.createElement("div",{className:"col-md-4"},r.a.createElement("h5",{className:"text-center"},"As White"),r.a.createElement(we.a,{chartType:"PieChart",options:this.state.subChartOptions,data:c,width:"100%",height:"250px"})):null),this.props.footer)}}]),t}(n.Component),Ne=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={pieChartOptions:{backgroundColor:"transparent",chartArea:{top:10,left:0,right:0},colors:["#d93344","#41CD64","#5486d1","#9d4dc5"],pieSliceTextStyle:{color:"#ffffff"},legend:{position:"bottom",textStyle:{color:"#f8f8ff",fontName:"Roboto",fontSize:14}}},columnChartOptions:{backgroundColor:"transparent",isStacked:!0,chartArea:{top:10},colors:["#d93344","#41CD64","#5486d1","#9d4dc5"],legend:{maxLines:2,position:"bottom",textStyle:{color:"#f8f8ff",fontName:"Roboto",fontSize:14}},hAxis:{textStyle:{color:"#f8f8ff",fontName:"Roboto",fontSize:11}},vAxis:{textStyle:{color:"#f8f8ff",fontName:"Roboto",fontSize:11}}}},a.assignGameResultToDistributions=function(e,t){var a=y(t,e.id);if("Resignation"===t.outcome)e["".concat(a?"Plr":"Opp","+Res")]++;else if("Timeout"===t.outcome)e["".concat(a?"Plr":"Opp","+Time")]++;else if(isNaN(t.outcome.split(" ")[0]))e["".concat(a?"Plr":"Opp","+Other")]++;else{var n=parseFloat(t.outcome.split(" ")[0],10),r=Math.floor(n/10),o=10*(r<4?r:4)+"+";o="".concat(a?"Plr":"Opp","+").concat(o),e["".concat(a?"Plr":"Opp","+Count")]++,e[o]++}return e},a.computeWinLoseDistributions=function(e,t){var n={id:t,"Opp+Other":0,"Opp+Count":0,"Opp+Time":0,"Opp+Res":0,"Opp+40+":0,"Opp+30+":0,"Opp+20+":0,"Opp+10+":0,"Opp+0+":0,"Plr+0+":0,"Plr+10+":0,"Plr+20+":0,"Plr+30+":0,"Plr+40+":0,"Plr+Res":0,"Plr+Time":0,"Plr+Count":0,"Plr+Other":0};return e.reduce(a.assignGameResultToDistributions,n)},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"generateChartData",value:function(e,t){var a=this.computeWinLoseDistributions(e,t);return{chartData1:[["Result","Games"],["Resign",a["Plr+Res"]],["Timeout",a["Plr+Time"]],["Scoring",a["Plr+Count"]],["Other",a["Plr+Other"]]],chartData2:[["Result","Games"],["Resign",a["Opp+Res"]],["Timeout",a["Opp+Time"]],["Scoring",a["Opp+Count"]],["Other",a["Opp+Other"]]],chartData3:[["Outcome","Losses","Wins"],["40+",a["Opp+40+"],null],["30+",a["Opp+30+"],null],["20+",a["Opp+20+"],null],["10+",a["Opp+10+"],null],["0+",a["Opp+0+"],null],["0+",null,a["Plr+0+"]],["10+",null,a["Plr+10+"]],["20+",null,a["Plr+20+"]],["30+",null,a["Plr+30+"]],["40+",null,a["Plr+40+"]]]}}},{key:"render",value:function(){var e=this.props,t=e.games,a=e.player,n=this.generateChartData(t,a.id),o=n.chartData1,s=n.chartData2,l=n.chartData3;return r.a.createElement("section",{className:"stats_block"},r.a.createElement("h2",{id:this.props.id,className:"text-center"},this.props.title),r.a.createElement("div",{className:"row"},s?r.a.createElement("div",{className:"col-md-6"},r.a.createElement("h5",{className:"text-center"},"Losses"),r.a.createElement(we.a,{chartType:"PieChart",options:this.state.pieChartOptions,data:s,width:"100%",height:"300px"})):null,o?r.a.createElement("div",{className:"col-md-6"},r.a.createElement("h5",{className:"text-center"},"Wins"),r.a.createElement(we.a,{chartType:"PieChart",options:this.state.pieChartOptions,data:o,width:"100%",height:"300px"})):null),r.a.createElement("div",{className:"row"},l?r.a.createElement("div",{className:"col-12"},r.a.createElement("h3",{className:"text-center"},"Final scoring distribution"),r.a.createElement(we.a,{chartType:"ColumnChart",options:this.state.columnChartOptions,data:l,width:"100%",height:"300px"})):null))}}]),t}(n.Component),_e=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={mainChartOptions:{backgroundColor:"transparent",chartArea:{top:60,left:0,right:0},colors:["#d93344","#41CD64","#5486d1","#9d4dc5"],pieSliceTextStyle:{color:"#ffffff"},legend:{maxLines:2,position:"bottom",alignment:"center",textStyle:{color:"#f8f8ff",fontName:"Roboto",fontSize:14}}},pieChartOptions:{backgroundColor:"transparent",chartArea:{top:10},colors:["#d93344","#41CD64","#5486d1","#9d4dc5"],pieSliceTextStyle:{color:"#ffffff"},legend:{maxLines:2,position:"bottom",textStyle:{color:"#f8f8ff",fontName:"Roboto",fontSize:14}}}},a.computeBoardSizes=function(e,t){var a=0,n=0,r=0,o=0,s=0,l=0,c=0,i=0;return e.forEach(function(e){19===e.width&&19===e.height?(a++,y(e,t)||s++):13===e.width&&13===e.height?(n++,y(e,t)||l++):9===e.width&&9===e.height?(r++,y(e,t)||c++):(o++,y(e,t)||i++)}),{nineteenGames:a,thirteenGames:n,nineGames:r,otherGames:o,nineteenLosses:s,thirteenLosses:l,nineLosses:c,otherLosses:i}},a.generateChartData=function(e,t){var n=a.computeBoardSizes(e,t),r=n.nineteenGames,o=n.thirteenGames,s=n.nineGames,l=n.otherGames,c=n.nineteenLosses,i=n.thirteenLosses,m=n.nineLosses,u=n.otherLosses;return{chartData1:[["Size","Games"],["19x19",r],["13x13",o],["9x9",s],["Other",l]],chartData2:r>0?[["Result","Games"],["Losses",c],["Wins",r-c]]:null,chartData3:o>0?[["Result","Games"],["Losses",i],["Wins",o-i]]:null,chartData4:s>0?[["Result","Games"],["Losses",m],["Wins",s-m]]:null,chartData5:l>0?[["Result","Games"],["Losses",u],["Wins",l-u]]:null}},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.games,a=e.player,n=this.generateChartData(t,a.id),o=n.chartData1,s=n.chartData2,l=n.chartData3,c=n.chartData4,i=n.chartData5;return r.a.createElement("section",{className:"stats_block"},r.a.createElement("h2",{id:this.props.id,className:"text-center"},this.props.title),r.a.createElement("div",{className:"row"},o?r.a.createElement("div",{className:"col-md-6 mr-auto ml-auto"},r.a.createElement(we.a,{chartType:"PieChart",options:this.state.mainChartOptions,data:o,width:"100%",height:"400px"})):null),r.a.createElement("h3",{className:"text-center"},"Win/Loss ratio"),r.a.createElement("div",{className:"row"},s?r.a.createElement("div",{className:"col-md-6"},r.a.createElement("h5",{className:"text-center"},"19x19"),r.a.createElement(we.a,{chartType:"PieChart",options:this.state.pieChartOptions,data:s,width:"100%",height:"250px"})):null,l?r.a.createElement("div",{className:"col-md-6"},r.a.createElement("h5",{className:"text-center"},"13x13"),r.a.createElement(we.a,{chartType:"PieChart",options:this.state.pieChartOptions,data:l,width:"100%",height:"250px"})):null,c?r.a.createElement("div",{className:"col-md-6"},r.a.createElement("h5",{className:"text-center"},"9x9"),r.a.createElement(we.a,{chartType:"PieChart",options:this.state.pieChartOptions,data:c,width:"100%",height:"250px"})):null,i?r.a.createElement("div",{className:"col-md-6"},r.a.createElement("h5",{className:"text-center"},"Other Sizes"),r.a.createElement(we.a,{chartType:"PieChart",options:this.state.pieChartOptions,data:i,width:"100%",height:"250px"})):null))}}]),t}(n.Component),Te=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={mainChartOptions:{backgroundColor:"transparent",chartArea:{top:60,left:0,right:0},colors:["#d93344","#41CD64","#5486d1","#9d4dc5"],pieSliceTextStyle:{color:"#ffffff"},legend:{maxLines:2,position:"bottom",textStyle:{color:"#f8f8ff",fontName:"Roboto",fontSize:14}}},pieChartOptions:{backgroundColor:"transparent",chartArea:{top:10},colors:["#d93344","#41CD64","#5486d1","#9d4dc5"],pieSliceTextStyle:{color:"#ffffff"},legend:{maxLines:2,position:"bottom",textStyle:{color:"#f8f8ff",fontName:"Roboto",fontSize:14}}}},a.computeTimeSettings=function(e,t){var a=0,n=0,r=0,o=0,s=0,l=0;return e.forEach(function(e){e.time_per_move<20?(a++,y(e,t)||o++):e.time_per_move>10800?(r++,y(e,t)||l++):(n++,y(e,t)||s++)}),{blitzGames:a,liveGames:n,correspondenceGames:r,blitzLosses:o,liveLosses:s,correspondenceLosses:l}},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"generateChartData",value:function(e,t){var a=this.computeTimeSettings(e,t);return{chartData1:[["Size","Games"],["Blitz",a.blitzGames],["Live",a.liveGames],["Correspondence",a.correspondenceGames]],chartData2:a.blitzGames>0?[["Result","Games"],["Losses",a.blitzLosses],["Wins",a.blitzGames-a.blitzLosses]]:null,chartData3:a.liveGames>0?[["Result","Games"],["Losses",a.liveLosses],["Wins",a.liveGames-a.liveLosses]]:null,chartData4:a.correspondenceGames>0?[["Result","Games"],["Losses",a.correspondenceLosses],["Wins",a.correspondenceGames-a.correspondenceLosses]]:null}}},{key:"render",value:function(){var e=this.props,t=e.games,a=e.player,n=this.generateChartData(t,a.id),o=n.chartData1,s=n.chartData2,l=n.chartData3,c=n.chartData4;return r.a.createElement("section",{className:"stats_block"},r.a.createElement("h2",{id:this.props.id,className:"text-center"},this.props.title),r.a.createElement("div",{className:"row"},o?r.a.createElement("div",{className:"col-sm-6 mr-auto ml-auto"},r.a.createElement(we.a,{chartType:"PieChart",options:this.state.mainChartOptions,data:o,width:"100%",height:"400px"})):null),r.a.createElement("h3",{className:"text-center"},"Win/Loss ratio"),r.a.createElement("div",{className:"row"},s?r.a.createElement("div",{className:"col-md-4"},r.a.createElement("h5",{className:"text-center"},"Blitz"),r.a.createElement(we.a,{chartType:"PieChart",options:this.state.pieChartOptions,data:s,width:"100%",height:"250px"})):null,l?r.a.createElement("div",{className:"col-md-4"},r.a.createElement("h5",{className:"text-center"},"Live"),r.a.createElement(we.a,{chartType:"PieChart",options:this.state.pieChartOptions,data:l,width:"100%",height:"250px"})):null,c?r.a.createElement("div",{className:"col-md-4"},r.a.createElement("h5",{className:"text-center"},"Correspondence"),r.a.createElement(we.a,{chartType:"PieChart",options:this.state.pieChartOptions,data:c,width:"100%",height:"250px"})):null))}}]),t}(n.Component),Pe=function(e){var t=e.href,a=e.title,n=e.children;return r.a.createElement("a",{href:t,title:a||n,target:"_blank",rel:"noopener noreferrer nofollow"},n)},je=function(e){var t=e.player,a="".concat(R.OGS_ROOT,"user/view/").concat(t.id,"/").concat(t.username),n="".concat(R.OGS_API_ROOT).concat(t.id,"/icon?size=32"),o="".concat(t.username," (").concat(E(t),")");return r.a.createElement(Pe,{href:a},r.a.createElement("img",{className:"img-20",src:n,alt:o})," ",o)},Re=a(20),Ge=a.n(Re),Ae=function(e){var t=e.game;return r.a.createElement(Pe,{href:"".concat(R.OGS_ROOT,"game/").concat(t.related.detail.split("games/")[1])},Ge()(t.ended).format("MMM D, YYYY"))},Le=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).computeOpponentsInfo=function(e,t){var a=[],n=0,r={rank:70},o={rank:0},s={games:0},l={ratingDiff:-9999},c=!0,i=!1,m=void 0;try{for(var u,p=e[Symbol.iterator]();!(c=(u=p.next()).done);c=!0){var h=u.value,d=y(h,t.id),E=b(h,t.id).opponent,v=O(h,t.id),k=v.historicalOpponent,C=v.historicalPlayer,S=f(E);if(d){var D=g(E)-g(t)+g(k)-g(C);D>l.ratingDiff&&(l=Object(F.a)({},E,{ratingDiff:D,game:h}))}a[E.id]?a[E.id]++:a[E.id]=1,a[E.id]>s.games&&(s=Object(F.a)({},E,{games:a[E.id]})),S>o.rank&&(o=Object(F.a)({},E,{rank:S})),S<r.rank&&(r=Object(F.a)({},E,{rank:S}))}}catch(x){i=!0,m=x}finally{try{c||null==p.return||p.return()}finally{if(i)throw m}}for(var w in n=0,a)a.hasOwnProperty(w)&&n++;return{strongestOpp:o,weakestOpp:r,mostPlayed:s,strongestDefeated:l,numberOfOpponents:n,averageGamePerOpponent:(e.length/n).toFixed(2)}},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"generateChartData",value:function(e,t){var a=this.computeOpponentsInfo(e,t),n=Math.max(a.weakestOpp.rank,0)-5,r=Math.min(a.strongestOpp.rank,42)-5,o=f(this.props.player)-5;return{numberOfOpponents:a.numberOfOpponents,weakestDisp:{href:"".concat(R.OGS_ROOT,"user/view/").concat(a.weakestOpp.id,"/").concat(a.weakestOpp.username),title:"".concat(a.weakestOpp.username," (").concat(E(a.weakestOpp),")"),style:{left:"".concat(3.03030303*n,"%")},img:"".concat(R.OGS_API_ROOT).concat(a.weakestOpp.id,"/icon?size=32")},userDisp:{href:"".concat(R.OGS_ROOT,"user/view/").concat(this.props.player.id,"/").concat(this.props.player.username),title:"".concat(this.props.player.username," (").concat(E(this.props.player),")"),style:{left:"".concat(3.03030303*o,"%")},img:"".concat(R.OGS_API_ROOT).concat(this.props.player.id,"/icon?size=32")},strongestDisp:{href:"".concat(R.OGS_ROOT,"user/view/").concat(a.strongestOpp.id,"/").concat(a.strongestOpp.username),title:"".concat(a.strongestOpp.username," (").concat(E(a.strongestOpp),")"),style:{left:"".concat(3.03030303*r,"%")},img:"".concat(R.OGS_API_ROOT).concat(a.strongestOpp.id,"/icon?size=32")},mostPlayedDisp:a.mostPlayed,strongestDefeatedDisp:a.strongestDefeated,averageGamePerOpponent:a.averageGamePerOpponent}}},{key:"render",value:function(){var e=this.props,t=e.games,a=e.player,n=this.generateChartData(t,a),o=n.numberOfOpponents,s=n.weakestDisp,l=n.userDisp,c=n.strongestDisp,i=n.mostPlayedDisp,m=n.strongestDefeatedDisp,u=n.averageGamePerOpponent;return o?r.a.createElement("section",{className:"stats_block"},r.a.createElement("h2",{id:this.props.id,className:"text-center"},this.props.title,": ",o),r.a.createElement("div",{className:"row"},r.a.createElement("div",{id:"opponents_polars_chart",className:"opponent_chart col-8 mr-auto ml-auto"},r.a.createElement("ul",{className:"bar_legend"},r.a.createElement("li",{style:s.style},r.a.createElement("div",null,"Weakest Opponent"),r.a.createElement("span",null)),r.a.createElement("li",{style:c.style},r.a.createElement("div",null,"Strongest Opponent"),r.a.createElement("span",null))),r.a.createElement("div",{className:"bar_chart"},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:s.href,"data-toggle":"tooltip","data-placement":"top",title:s.title,style:s.style},r.a.createElement("img",{src:s.img,alt:s.title})),r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:l.href,"data-toggle":"tooltip","data-placement":"top",title:l.title,style:l.style},r.a.createElement("img",{src:l.img,alt:l.title})),r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:c.href,"data-toggle":"tooltip","data-placement":"top",title:c.title,style:c.style},r.a.createElement("img",{src:c.img,alt:c.title}))),r.a.createElement("ul",{className:"ruler"},r.a.createElement("li",null,r.a.createElement("span",null),r.a.createElement("div",null,r.a.createElement("small",null,r.a.createElement("em",null,"25k")))),r.a.createElement("li",null,r.a.createElement("span",null),r.a.createElement("div",null,r.a.createElement("small",null,r.a.createElement("em",null,"10k")))),r.a.createElement("li",null,r.a.createElement("span",null),r.a.createElement("div",null,r.a.createElement("small",null,r.a.createElement("em",null,"1d")))),r.a.createElement("li",null,r.a.createElement("span",null),r.a.createElement("div",null,r.a.createElement("small",null,r.a.createElement("em",null,"9d"))))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("ul",{className:"info_list"},r.a.createElement("li",null,"Most played with: ",r.a.createElement(je,{player:i})," in ",i.games," games."),!!m.username&&r.a.createElement("li",null,"Scored a triumphant victory against ",r.a.createElement(je,{player:m})," on ",r.a.createElement(Ae,{game:m.game}),"."),r.a.createElement("li",null,"Average game per opponent: ",u," games."))))):r.a.createElement("section",{className:"stats_block"})}}]),t}(n.Component),Me=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={columnChartOptions:{backgroundColor:"transparent",isStacked:!0,chartArea:{top:10},colors:["#d93344","#41CD64","#5486d1","#9d4dc5"],legend:{maxLines:2,position:"bottom",textStyle:{color:"#f8f8ff",fontName:"Roboto",fontSize:14}},hAxis:{textStyle:{color:"#f8f8ff",fontName:"Roboto",fontSize:11}},vAxis:{textStyle:{color:"#f8f8ff",fontName:"Roboto",fontSize:11}}}},a.computeMiscInfo=function(e,t){var a,n=new Date;n.setHours(0,0,0,0);var r=0,o={streak:0},s={streak:0},l=0,c=0,i={diff:0},m=!0,u=!1,p=void 0;try{for(var h,d=e[Symbol.iterator]();!(m=(h=d.next()).done);m=!0){var f=h.value,g=y(f,t.id);if(g?(s.streak++,s.start=f,s.end||(s.end=f),s.streak>o.streak&&(o=s)):s={streak:0},g){var E=b(f,t.id).opponent;if(!isNaN(f.outcome.split(" ")[0])){var v=parseFloat(f.outcome.split(" ")[0]);v>i.diff&&(i={game:f,opponent:E,diff:v})}}else r++;var O=new Date(f.ended);O.setHours(0,0,0,0),0!==k(n,O)?(n=O,c=1):c++,c>l&&(a=n,l=c)}}catch(N){u=!0,p=N}finally{try{m||null==d.return||d.return()}finally{if(u)throw p}}var C=new Date(t.registrationDate);if(e.length){var S=new Date(e[e.length-1].started);S<C&&(C=S)}var D=0;if(e.length){var w=new Date(e[e.length-1].started),x=k(new Date,w);D=e.length/parseFloat(x)}return{memberSince:C,gamesPerDay:D,longestStreak:o,mostActiveDay:a,gamesOnMostActiveDay:l,biggestWin:i,uniqueTournaments:e.filter(function(e){return null!==e.tournament}).reduce(function(e,t){return-1===e.indexOf(t.tournament)&&e.push(t.tournament),e},[]).length,totalLosses:r}},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.games,a=e.player,n=this.computeMiscInfo(t,a),o=n.memberSince,s=n.gamesPerDay,l=n.longestStreak,c=n.mostActiveDay,i=n.gamesOnMostActiveDay,m=n.biggestWin,u=n.totalLosses,p=n.uniqueTournaments,h=l.end?r.a.createElement("span",null,", from ",r.a.createElement(Ae,{game:l.start})," to ",r.a.createElement(Ae,{game:l.end})):"",d=m.game&&r.a.createElement("li",null,"Biggest win: ",m.diff," points victory against ",r.a.createElement(je,{player:m.opponent})," on ",r.a.createElement(Ae,{game:m.game}),".");return r.a.createElement("section",{className:"stats_block"},r.a.createElement("h2",{id:this.props.id,className:"text-center"},this.props.title),r.a.createElement("ul",{className:"info_list"},r.a.createElement("li",null,"Member since: ",Ge()(o).format("DD MMM, YYYY"),"."),r.a.createElement("li",null,"Plays ",Math.round(100*s)/100," games per day on average."),r.a.createElement("li",null,"Most active day: ",Ge()(c).format("DD MMM, YYYY")," with ",i," finished games."),r.a.createElement("li",null,"Played in ",p," different tournaments."),r.a.createElement("li",null,"Longest win streak: ",l.streak," wins in a row",h,"."),d,u>=50&&r.a.createElement("li",null,"Congratulations, ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer nofollow",href:"http://senseis.xmp.net/?page=LoseYourFirst50GamesAsQuicklyAsPossible"},"you have lost your first 50 games"),"!")))}}]),t}(n.Component),ze=a(21),We=a(37),Fe=a.n(We),Ie=(a(114),new Date(-864e13)),He=new Date,Ye=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).onCheckboxChanged=function(e){var t=e.target.name,n=Array.from(document.querySelectorAll("input[name='".concat(t,"']"))).filter(function(e){return e.checked}).map(function(e){return e.value});a.onFilterChanged(Object(ze.a)({},t,n))},a.onToggleChanged=function(e){var t=e.target.name,n=e.target.checked;a.onFilterChanged(Object(ze.a)({},t,n))},a.onDateChanged=function(e,t){var n=t[0];a.onFilterChanged(Object(ze.a)({},e,n))},a.onFilterChanged=function(e){var t=a.props,n=t.ranked,r=t.tournament,o=t.boardSize,s=t.timeSettings,l=t.handicap,c=t.color,i=t.startDate,m=t.endDate;a.props.filterGames(Object(F.a)({ranked:n,tournament:r,boardSize:o,timeSettings:s,handicap:l,color:c,endDate:m,startDate:i},e))},a.renderCheckBoxItems=function(e,t,n){return arguments.length>3&&void 0!==arguments[3]&&arguments[3]?r.a.createElement("div",{className:"form-group col-sm-6 col-lg-4"},r.a.createElement("div",{className:"row"},e.map(function(e,o){return r.a.createElement("div",{className:"col-5",key:o},a.renderCheckbox(t,n,e,o))}))):r.a.createElement("div",{className:"form-group col-sm-6 col-lg-4"},e.map(function(e,r){return a.renderCheckbox(t,n,e,r)}))},a.renderCheckbox=function(e,t,n,o){return r.a.createElement("div",{className:"form-check",key:o},r.a.createElement("input",{name:t,className:"form-check-input",type:"checkbox",id:"".concat(t,"_").concat(o),value:n,defaultChecked:e.includes(n),onChange:a.onCheckboxChanged}),r.a.createElement("label",{className:"form-check-label",htmlFor:"".concat(t,"_").concat(o)},n))},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.ranked,n=t.tournament,o=t.boardSize,s=t.timeSettings,l=t.handicap,c=t.color;return r.a.createElement("form",{onSubmit:this.onSubmit,className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-sm-6 col-lg-4"},r.a.createElement("label",null,"Analyze games starting from"),r.a.createElement(Fe.a,{value:this.props.startDate||"",className:"form-control flatpickr-input",name:"startDate",onChange:function(t){return e.onDateChanged("startDate",t)},options:{dateFormat:"M d, Y",minDate:this.props.minDate,maxDate:this.props.maxDate,enableTime:!1,enableSeconds:!1}})),r.a.createElement("div",{className:"form-group col-sm-6 col-lg-4"},r.a.createElement("label",{className:"form-check"},r.a.createElement("input",{name:"limitEndDate",className:"form-check-input",type:"checkbox",id:"limit_endDate",value:"limitEndDate",defaultChecked:this.props.limitEndDate,onChange:this.onToggleChanged}),r.a.createElement("label",{className:"form-check-label",htmlFor:"limit_endDate"},"limit end date".concat(this.props.limitEndDate?" to":""))),this.props.limitEndDate&&r.a.createElement(Fe.a,{value:this.props.endDate||"",className:"form-control flatpickr-input",name:"endDate",onChange:function(t){return e.onDateChanged("endDate",t)},options:{dateFormat:"M d, Y",minDate:this.props.minDate,maxDate:this.props.maxDate,enableTime:!1,enableSeconds:!1}})))),this.renderCheckBoxItems(I.values,a,"ranked"),this.renderCheckBoxItems(Y.values,o,"boardSize",!0),this.renderCheckBoxItems(B.values,s,"timeSettings"),this.renderCheckBoxItems(J.values,l,"handicap"),this.renderCheckBoxItems(U.values,c,"color"),this.renderCheckBoxItems(H.values,n,"tournament"))}}]),t}(n.PureComponent),Be=Object(l.b)(function(e){var t=e.chartsData,a=e.games;return Object(F.a)({},t,{minDate:a.start||Ie,maxDate:a.end||He})},function(e){return{filterGames:function(t){return e(Q(t))}}})(Ye),Ue=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={scatterPlotChartOptions:{backgroundColor:"transparent",chartArea:{top:50,left:50,right:5},colors:["#5486d1","#d93344","#41CD64","#9d4dc5"],legend:{position:"bottom",textStyle:{color:"#f8f8ff",fontName:"Roboto",fontSize:14}},series:[{type:"line"},{type:"scatter",pointShape:{type:"triangle",rotation:180}},{type:"scatter",pointShape:{type:"triangle"}}],hAxis:{textStyle:{color:"#f8f8ff",fontName:"Roboto",fontSize:11},gridlines:{color:"transparent",count:2},format:"MMM ''yy"},vAxis:{textStyle:{color:"#f8f8ff",fontName:"Roboto",fontSize:11},gridlines:{count:0}},tooltip:{isHtml:!0,trigger:"selection"}}},a.computeGameHistory=function(e,t,a){var n=[];(a||e.length<2)&&n.push({date:new Date,playerRating:g(t)});var r=!0,o=!1,s=void 0;try{for(var l,c=e[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var i=l.value,m=y(i,t.id),u=O(i,t.id),p=u.historicalPlayer,h=u.historicalOpponent;n.push({isWin:m,date:new Date(i.ended),playerRating:g(p),opponentRating:g(h),gameId:i.id})}}catch(d){o=!0,s=d}finally{try{r||null==c.return||c.return()}finally{if(o)throw s}}return n},a.renderChartTooltip=function(e,t,a,n,r){return n?'<h6><a href="'.concat(R.OGS_ROOT,"game/").concat(r,'" target="blank" rel="noopener noreferrer nofollow">').concat(Ge()(t).format("MMM D, YYYY HH:mm"),'</a></h6>\n      <div class="').concat(e?"text-green":"text-red",'">').concat(e?"Win":"Loss","</div>\n      <div>Player rating: ").concat(Math.round(a)," (").concat(v(a),")</div>\n      <div>Opponent rating: ").concat(Math.round(n)," (").concat(v(n),")</div>"):"<h6>Currently</h6>\n      <div>Player rating: ".concat(Math.round(a)," (").concat(v(a),")</div>")},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.games,n=t.player,o=t.insertCurrentRank,s=this.computeGameHistory(a,n,o),l=[["Date",{type:"number",label:"Player Rating"},{type:"string",role:"tooltip",p:{html:!0}},{type:"number",label:"Opponent Rating (Loss)"},{type:"string",role:"tooltip",p:{html:!0}},{type:"number",label:"Opponent Rating (Win)"},{type:"string",role:"tooltip",p:{html:!0}}]].concat(Object(W.a)(s.map(function(t){return[t.date,t.playerRating,e.renderChartTooltip(t.isWin,t.date,t.playerRating,t.opponentRating,t.gameId),t.isWin?null:t.opponentRating,e.renderChartTooltip(t.isWin,t.date,t.playerRating,t.opponentRating,t.gameId),t.isWin?t.opponentRating:null,e.renderChartTooltip(t.isWin,t.date,t.playerRating,t.opponentRating,t.gameId)]})));return r.a.createElement(we.b,{chartType:"ComboChart",data:l,options:this.state.scatterPlotChartOptions,width:"100%",height:"400px"})}}]),t}(n.Component),Je=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.player,a=e.chartsData,n=e.games,o=a.results,s=n.results,l=o.length>0&&r.a.createElement("div",null,r.a.createElement(Ue,{games:o,player:t,insertCurrentRank:!a.limitEndDate}),r.a.createElement(xe,{games:o,player:t}),r.a.createElement(Ne,{title:"Game results distribution",id:"game_results",games:o,player:t}),a.boardSize.length>1&&r.a.createElement(_e,{title:"Performance across board sizes",id:"board_sizes_stats",games:o,player:t}),a.timeSettings.length>1&&r.a.createElement(Te,{title:"Performance across time settings",id:"time_settings_stats",games:o,player:t}));return r.a.createElement("div",null,r.a.createElement(Be,null),r.a.createElement("hr",null),r.a.createElement("h2",{id:"total_games_stats",className:"text-center"},"".concat(o.length," of ").concat(s.length," games match the filters")),l,s.length>0&&r.a.createElement("div",null,r.a.createElement("h2",{className:"all_time_title"},"Lifetime Statistics"),r.a.createElement(Le,{title:"Unique opponents faced",id:"opponents_stats",games:s,player:t}),r.a.createElement(Me,{title:"Miscellaneous",id:"misc_stats",games:s,player:t})))}}]),t}(n.Component),Ve=Object(l.b)(function(e){return{chartsData:e.chartsData,games:e.games,player:e.player}})(Je),qe=function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("p",null,r.a.createElement("em",null,'"Got Stats?" analytics tool for ',r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer nofollow",href:"https://www.online-go.com"},"OGS")," by Chinitsu (aka AVAVT).")),r.a.createElement("p",null,r.a.createElement("em",null,"The source code is also available on ",r.a.createElement("a",{href:"https://github.com/AVAVT/gotstats",target:"_blank",rel:"noopener noreferrer nofollow"},"Github"),"."))),r.a.createElement("div",{className:"col-sm-4 text-right"},r.a.createElement("a",{href:"http://avavt.github.io",target:"_blank",rel:"noopener noreferrer"},"About the author")))))},Qe=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"scrollToElem",value:function(e){document.getElementById(e).scrollIntoView()}},{key:"componentDidMount",value:function(){this.props.user&&this.props.getPlayerData(this.props.user)}},{key:"render",value:function(){return r.a.createElement("main",{className:"App"},r.a.createElement(S,null),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement(Ce,{scrollToElem:this.scrollToElem}),r.a.createElement("div",{className:"col-lg-9 order-md-1 col-md-8 content-wrapper"},this.props.showLoading?r.a.createElement(De,null):this.props.showStatistics?r.a.createElement(Ve,null):r.a.createElement(D,null)))),r.a.createElement(qe,null))}}]),t}(n.Component),$e=Object(l.b)(function(e){var t=e.player,a=e.games;return{player:t,showLoading:!!t.fetching||!!t.fetchError||!!a.fetching||!!a.fetchError,showStatistics:t.id>-1}},function(e){return{getPlayerData:function(t){return e(ue(t))}}})(Qe),Ke=a(34),Xe=function(e){var t=e.reduxStore;return r.a.createElement(l.a,{store:t},r.a.createElement(Ke.a,null,r.a.createElement(w.a,{path:"/user/:user",component:function(e){var t=e.match;return r.a.createElement($e,{user:t.params.user})}}),r.a.createElement(w.a,{exact:!0,path:"/",component:$e})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ze=a(52),et=a(53),tt=a(17),at={id:-1,username:"",ratings:{overall:{rating:0}},rank:0,fetching:null,fetchError:"",registrationDate:null},nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"FETCH_PLAYER_START":return Object(F.a)({},at,{fetching:n,fetchError:""});case"FETCH_PLAYER_SUCCESS":return Object(F.a)({},e,{fetching:null},n);case"FETCH_PLAYER_FAILURE":return Object(F.a)({},e,{fetching:null,fetchError:n.error});default:return e}},rt=new Date(-864e13),ot=new Date(864e13),st={results:[],fetching:null,fetchingPage:0,fetchingTotalPage:0,fetchError:"",start:rt,end:ot},lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"FETCH_PLAYER_START":return Object(F.a)({},st,{fetching:e.fetching});case"FETCH_GAMES_START":return Object(F.a)({},e,{fetching:n,fetchingPage:0,fetchingTotalPage:0,fetchError:"",start:rt,end:ot});case"FETCH_GAMES_PROGRESS":return Object(F.a)({},e,n);case"FETCH_GAMES_SUCCESS":return Object(F.a)({},e,{fetching:null},n);case"FETCH_GAMES_FAILURE":return Object(F.a)({},e,{fetching:null,fetchError:n.error});default:return e}},ct={startDate:V,endDate:q,ranked:I.values,tournament:H.values,boardSize:Y.values,timeSettings:B.values,handicap:J.values,color:U.values,limitEndDate:!1,results:[]},it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"UPDATE_CHART_DATA_SOURCE":return Object(F.a)({},e,n);case"FETCH_GAMES_START":case"FETCH_PLAYER_START":return Object(F.a)({},ct);case"FETCH_GAMES_SUCCESS":return Object(F.a)({},e,{startDate:n.start});default:return e}},mt=Object(tt.combineReducers)({player:nt,games:lt,chartsData:it}),ut=Object(tt.createStore)(mt,Object(Ze.composeWithDevTools)(Object(tt.applyMiddleware)(et.a)));s.a.render(r.a.createElement(Xe,{reduxStore:ut}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},54:function(e,t,a){e.exports=a(115)},60:function(e,t,a){},9:function(e){e.exports={OGS_API_ROOT:"https://online-go.com/api/v1/players/",OGS_ROOT:"http://online-go.com/"}}},[[54,1,2]]]);
//# sourceMappingURL=main.348c0fc7.chunk.js.map